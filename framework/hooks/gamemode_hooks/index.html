
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bleonheart.github.io/framework/hooks/gamemode_hooks/">
      
      
        <link rel="prev" href="../../definitions/items/">
      
      
        <link rel="next" href="../faction_hooks/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Gamemode hooks - Lilia Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#createdefaultinventory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Lilia Documentation" class="md-header__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo_small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lilia Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gamemode hooks
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="lavender"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Lilia Documentation" class="md-nav__button md-logo" aria-label="Lilia Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo_small.png" alt="logo">

    </a>
    Lilia Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Framework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Framework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Definitions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Definitions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/faction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Faction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/attribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../definitions/items/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Items
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Hooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Gamemode hooks
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Gamemode hooks
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#createdefaultinventory" class="md-nav__link">
    <span class="md-ellipsis">
      CreateDefaultInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charrestored" class="md-nav__link">
    <span class="md-ellipsis">
      CharRestored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prechardelete" class="md-nav__link">
    <span class="md-ellipsis">
      PreCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchardelete" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharvarchanged" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharVarChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playermodelchanged" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerModelChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultcharname" class="md-nav__link">
    <span class="md-ellipsis">
      GetDefaultCharName
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultchardesc" class="md-nav__link">
    <span class="md-ellipsis">
      GetDefaultCharDesc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldhidebars" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldHideBars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldbardraw" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldBarDraw
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedchatclasses" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedChatClasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playermessagesend" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerMessageSend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerjoinclass" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerJoinClass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedclasses" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedClasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusecommand" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseCommand
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddatabesaved" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDataBeSaved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postloaddata" class="md-nav__link">
    <span class="md-ellipsis">
      PostLoadData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#savedata" class="md-nav__link">
    <span class="md-ellipsis">
      SaveData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loaddata" class="md-nav__link">
    <span class="md-ellipsis">
      LoadData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onmysqlooconnected" class="md-nav__link">
    <span class="md-ellipsis">
      OnMySQLOOConnected
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liliatablesloaded" class="md-nav__link">
    <span class="md-ellipsis">
      LiliaTablesLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloadtables" class="md-nav__link">
    <span class="md-ellipsis">
      OnLoadTables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistencesave" class="md-nav__link">
    <span class="md-ellipsis">
      PersistenceSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registerpreparedstatements" class="md-nav__link">
    <span class="md-ellipsis">
      RegisterPreparedStatements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charcleanup" class="md-nav__link">
    <span class="md-ellipsis">
      CharCleanUp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createinventorypanel" class="md-nav__link">
    <span class="md-ellipsis">
      CreateInventoryPanel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemregistered" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemRegistered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializeditems" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onserverlog" class="md-nav__link">
    <span class="md-ellipsis">
      OnServerLog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domoduleincludes" class="md-nav__link">
    <span class="md-ellipsis">
      DoModuleIncludes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onfinishload" class="md-nav__link">
    <span class="md-ellipsis">
      OnFinishLoad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedschema" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedmodules" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedModules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onpickupmoney" class="md-nav__link">
    <span class="md-ellipsis">
      OnPickupMoney
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemspawned" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemSpawned
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadfonts" class="md-nav__link">
    <span class="md-ellipsis">
      LoadFonts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadliliafonts" class="md-nav__link">
    <span class="md-ellipsis">
      LoadLiliaFonts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedconfig" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moduleloaded" class="md-nav__link">
    <span class="md-ellipsis">
      ModuleLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#databaseconnected" class="md-nav__link">
    <span class="md-ellipsis">
      DatabaseConnected
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onwipetables" class="md-nav__link">
    <span class="md-ellipsis">
      OnWipeTables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupdatabase" class="md-nav__link">
    <span class="md-ellipsis">
      SetupDatabase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerunequipitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUnequipItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerdropitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerDropItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayertakeitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerTakeItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerequipitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerEquipItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerinteractitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerInteractItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entityremoved" class="md-nav__link">
    <span class="md-ellipsis">
      EntityRemoved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerinitialspawn" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerInitialSpawn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerinitialspawn" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerInitialSpawn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerliliadataloaded" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerLiliaDataLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchardisconnect" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharDisconnect
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldspawnclientragdoll" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldSpawnClientRagdoll
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playeruse" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerUse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldmenubuttonshow" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldMenuButtonShow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemcreated" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemCreated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitemdropmodel" class="md-nav__link">
    <span class="md-ellipsis">
      getItemDropModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handleitemtransferrequest" class="md-nav__link">
    <span class="md-ellipsis">
      HandleItemTransferRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupbaginventoryaccessrules" class="md-nav__link">
    <span class="md-ellipsis">
      SetupBagInventoryAccessRules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canpickupmoney" class="md-nav__link">
    <span class="md-ellipsis">
      CanPickupMoney
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmoneymodel" class="md-nav__link">
    <span class="md-ellipsis">
      GetMoneyModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canoutfitchangemodel" class="md-nav__link">
    <span class="md-ellipsis">
      CanOutfitChangeModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharpermakilled" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharPermakilled
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemcombine" class="md-nav__link">
    <span class="md-ellipsis">
      ItemCombine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharfallover" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharFallover
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addcreationdata" class="md-nav__link">
    <span class="md-ellipsis">
      AddCreationData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charlistupdated" class="md-nav__link">
    <span class="md-ellipsis">
      CharListUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurecharactercreationsteps" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigureCharacterCreationSteps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#candeletechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanDeleteChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kickedfromchar" class="md-nav__link">
    <span class="md-ellipsis">
      KickedFromChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lilialoaded" class="md-nav__link">
    <span class="md-ellipsis">
      LiliaLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorclassupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorClassUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorfactionupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorFactionUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemmaxstockupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemMaxStockUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemstockupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemStockUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemmodeupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemModeUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritempriceupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemPriceUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendormoneyupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorMoneyUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoredited" class="md-nav__link">
    <span class="md-ellipsis">
      VendorEdited
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendortradeevent" class="md-nav__link">
    <span class="md-ellipsis">
      VendorTradeEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorsynchronized" class="md-nav__link">
    <span class="md-ellipsis">
      VendorSynchronized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayeraccessvendor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerAccessVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchartradevendor" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharTradeVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorexited" class="md-nav__link">
    <span class="md-ellipsis">
      VendorExited
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoropened" class="md-nav__link">
    <span class="md-ellipsis">
      VendorOpened
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onopenvendormenu" class="md-nav__link">
    <span class="md-ellipsis">
      OnOpenVendorMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factiononloadout" class="md-nav__link">
    <span class="md-ellipsis">
      FactionOnLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classonloadout" class="md-nav__link">
    <span class="md-ellipsis">
      ClassOnLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factionpostloadout" class="md-nav__link">
    <span class="md-ellipsis">
      FactionPostLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classpostloadout" class="md-nav__link">
    <span class="md-ellipsis">
      ClassPostLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerloadout" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chattextchanged" class="md-nav__link">
    <span class="md-ellipsis">
      ChatTextChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finishchat" class="md-nav__link">
    <span class="md-ellipsis">
      FinishChat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chataddtext" class="md-nav__link">
    <span class="md-ellipsis">
      ChatAddText
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#startchat" class="md-nav__link">
    <span class="md-ellipsis">
      StartChat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayersay" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerSay
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchatreceived" class="md-nav__link">
    <span class="md-ellipsis">
      OnChatReceived
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#candisplaycharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      CanDisplayCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewinventory" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buildhelpmenu" class="md-nav__link">
    <span class="md-ellipsis">
      BuildHelpMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createmenubuttons" class="md-nav__link">
    <span class="md-ellipsis">
      CreateMenuButtons
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawammohud" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawAmmoHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawcharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawentityinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawEntityInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawentityinfo" class="md-nav__link">
    <span class="md-ellipsis">
      DrawEntityInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawcrosshair-alias-1" class="md-nav__link">
    <span class="md-ellipsis">
      DrawCrosshair (Alias 1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawvignette" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawVignette
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawvignette" class="md-nav__link">
    <span class="md-ellipsis">
      DrawVignette
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawbranchwarning" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawBranchWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbranchwarning" class="md-nav__link">
    <span class="md-ellipsis">
      DrawBranchWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawblur" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawBlur
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawblur" class="md-nav__link">
    <span class="md-ellipsis">
      DrawBlur
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawplayerinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawPlayerInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltipinitialize" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipInitialize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltippaint" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipPaint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltiplayout" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipLayout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjustbluramount" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustBlurAmount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupquickmenu" class="md-nav__link">
    <span class="md-ellipsis">
      SetupQuickMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawliliamodelview" class="md-nav__link">
    <span class="md-ellipsis">
      DrawLiliaModelView
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldshowplayeronscoreboard" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldShowPlayerOnScoreboard
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#showplayeroptions" class="md-nav__link">
    <span class="md-ellipsis">
      ShowPlayerOptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldallowscoreboardoverride" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldAllowScoreboardOverride
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayeraccessdoor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerAccessDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onplayerpurchasedoor" class="md-nav__link">
    <span class="md-ellipsis">
      OnPlayerPurchaseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerusedoor" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerUseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keylock" class="md-nav__link">
    <span class="md-ellipsis">
      KeyLock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyunlock" class="md-nav__link">
    <span class="md-ellipsis">
      KeyUnlock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#togglelock" class="md-nav__link">
    <span class="md-ellipsis">
      ToggleLock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callondoorchildren" class="md-nav__link">
    <span class="md-ellipsis">
      callOnDoorChildren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copyparentdoor" class="md-nav__link">
    <span class="md-ellipsis">
      copyParentDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddeletesaveditems" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDeleteSavedItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onsaveditemloaded" class="md-nav__link">
    <span class="md-ellipsis">
      OnSavedItemLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddisablethirdperson" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDisableThirdperson
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharattribboosted" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharAttribBoosted
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerstaminagained" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerStaminaGained
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerstaminalost" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerStaminaLost
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerthrowpunch" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerThrowPunch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaoffsetrunning" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaOffsetRunning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaregeneration" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaRegeneration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaoffset" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaOffset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calcstaminachange" class="md-nav__link">
    <span class="md-ellipsis">
      CalcStaminaChange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewattributes" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewAttributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstartattribpoints" class="md-nav__link">
    <span class="md-ellipsis">
      GetStartAttribPoints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playercanpickupitem-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerCanPickupItem (Attributes)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charmaxstamina" class="md-nav__link">
    <span class="md-ellipsis">
      CharMaxStamina
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postdrawinventory-inventory" class="md-nav__link">
    <span class="md-ellipsis">
      PostDrawInventory (Inventory)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptclickitemicon" class="md-nav__link">
    <span class="md-ellipsis">
      InterceptClickItemIcon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onrequestitemtransfer" class="md-nav__link">
    <span class="md-ellipsis">
      OnRequestItemTransfer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itempaintover" class="md-nav__link">
    <span class="md-ellipsis">
      ItemPaintOver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncreateiteminteractionmenu" class="md-nav__link">
    <span class="md-ellipsis">
      OnCreateItemInteractionMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canrunitemaction" class="md-nav__link">
    <span class="md-ellipsis">
      CanRunItemAction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canitembetransfered" class="md-nav__link">
    <span class="md-ellipsis">
      CanItemBeTransfered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemdraggedoutofinventory" class="md-nav__link">
    <span class="md-ellipsis">
      ItemDraggedOutOfInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemtransfered" class="md-nav__link">
    <span class="md-ellipsis">
      ItemTransfered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onplayerloststackitem" class="md-nav__link">
    <span class="md-ellipsis">
      OnPlayerLostStackItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerspawnstorage" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerSpawnStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issuitablefortrunk" class="md-nav__link">
    <span class="md-ellipsis">
      isSuitableForTrunk
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncreatestoragepanel" class="md-nav__link">
    <span class="md-ellipsis">
      OnCreateStoragePanel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cansavedata" class="md-nav__link">
    <span class="md-ellipsis">
      CanSaveData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storagerestored" class="md-nav__link">
    <span class="md-ellipsis">
      StorageRestored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageopen" class="md-nav__link">
    <span class="md-ellipsis">
      StorageOpen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageunlockprompt" class="md-nav__link">
    <span class="md-ellipsis">
      StorageUnlockPrompt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storagecantransferitem" class="md-nav__link">
    <span class="md-ellipsis">
      StorageCanTransferItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageentityremoved" class="md-nav__link">
    <span class="md-ellipsis">
      StorageEntityRemoved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageinventoryset" class="md-nav__link">
    <span class="md-ellipsis">
      StorageInventorySet
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ischarrecognized" class="md-nav__link">
    <span class="md-ellipsis">
      isCharRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ischarfakerecognized" class="md-nav__link">
    <span class="md-ellipsis">
      isCharFakeRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfakenameexistant" class="md-nav__link">
    <span class="md-ellipsis">
      isFakeNameExistant
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharrecognized" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charrecognize" class="md-nav__link">
    <span class="md-ellipsis">
      CharRecognize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayeddescription" class="md-nav__link">
    <span class="md-ellipsis">
      GetDisplayedDescription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayedname-recognition" class="md-nav__link">
    <span class="md-ellipsis">
      GetDisplayedName (Recognition)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isrecognizedchattype" class="md-nav__link">
    <span class="md-ellipsis">
      isRecognizedChatType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsalarylimit" class="md-nav__link">
    <span class="md-ellipsis">
      GetSalaryLimit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsalaryamount" class="md-nav__link">
    <span class="md-ellipsis">
      GetSalaryAmount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerearnsalary" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerEarnSalary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createsalarytimer" class="md-nav__link">
    <span class="md-ellipsis">
      CreateSalaryTimer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayercreatechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerCreateChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postchardelete" class="md-nav__link">
    <span class="md-ellipsis">
      PostCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmaxplayerchar" class="md-nav__link">
    <span class="md-ellipsis">
      GetMaxPlayerChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chardeleted" class="md-nav__link">
    <span class="md-ellipsis">
      CharDeleted
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preplayerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PrePlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charloaded" class="md-nav__link">
    <span class="md-ellipsis">
      CharLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charpostsave" class="md-nav__link">
    <span class="md-ellipsis">
      CharPostSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charpresave" class="md-nav__link">
    <span class="md-ellipsis">
      CharPreSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddsection" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddSection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddtextfield" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddTextField
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddbarfield" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddBarField
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewcommands" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewCommands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charlistloaded" class="md-nav__link">
    <span class="md-ellipsis">
      CharListLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerswitchchar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerSwitchChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharcreated" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharCreated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjustcreationdata" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustCreationData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawcharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      DrawCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getinjuredtext" class="md-nav__link">
    <span class="md-ellipsis">
      GetInjuredText
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getweaponname" class="md-nav__link">
    <span class="md-ellipsis">
      GetWeaponName
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weaponcyclesound" class="md-nav__link">
    <span class="md-ellipsis">
      WeaponCycleSound
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerchooseweapon" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerChooseWeapon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weaponselectsound" class="md-nav__link">
    <span class="md-ellipsis">
      WeaponSelectSound
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusedoor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playeraccessvendor" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerAccessVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getpriceoverride" class="md-nav__link">
    <span class="md-ellipsis">
      getPriceOverride
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thirdpersontoggled" class="md-nav__link">
    <span class="md-ellipsis">
      thirdPersonToggled
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faction_hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Faction Hooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Hooks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Meta
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/character_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Character meta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/entity_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entity meta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/inventory_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inventory meta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/item_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Item meta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/player_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Player meta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta/tool_meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool meta
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.attrib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.attribs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.bar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.bar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.character/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.character
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.color/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.color
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.currency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.currency
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.db
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.ease/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.ease
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.faction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.faction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.flag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.flag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.inventory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.inventory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.item/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.item
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.languages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.lang
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.menu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.menu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.net
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.notice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.notices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.string/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.string
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.util/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.util
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../libraries/lia.darkrp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lia.darkrp
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Information
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Information
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../information/compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Addons with Improved Compatibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../information/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../information/installing_the_gamemode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing the gamemode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#createdefaultinventory" class="md-nav__link">
    <span class="md-ellipsis">
      CreateDefaultInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charrestored" class="md-nav__link">
    <span class="md-ellipsis">
      CharRestored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prechardelete" class="md-nav__link">
    <span class="md-ellipsis">
      PreCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchardelete" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharvarchanged" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharVarChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playermodelchanged" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerModelChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultcharname" class="md-nav__link">
    <span class="md-ellipsis">
      GetDefaultCharName
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultchardesc" class="md-nav__link">
    <span class="md-ellipsis">
      GetDefaultCharDesc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldhidebars" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldHideBars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldbardraw" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldBarDraw
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedchatclasses" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedChatClasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playermessagesend" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerMessageSend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerjoinclass" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerJoinClass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedclasses" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedClasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusecommand" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseCommand
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddatabesaved" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDataBeSaved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postloaddata" class="md-nav__link">
    <span class="md-ellipsis">
      PostLoadData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#savedata" class="md-nav__link">
    <span class="md-ellipsis">
      SaveData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loaddata" class="md-nav__link">
    <span class="md-ellipsis">
      LoadData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onmysqlooconnected" class="md-nav__link">
    <span class="md-ellipsis">
      OnMySQLOOConnected
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#liliatablesloaded" class="md-nav__link">
    <span class="md-ellipsis">
      LiliaTablesLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onloadtables" class="md-nav__link">
    <span class="md-ellipsis">
      OnLoadTables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistencesave" class="md-nav__link">
    <span class="md-ellipsis">
      PersistenceSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registerpreparedstatements" class="md-nav__link">
    <span class="md-ellipsis">
      RegisterPreparedStatements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charcleanup" class="md-nav__link">
    <span class="md-ellipsis">
      CharCleanUp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createinventorypanel" class="md-nav__link">
    <span class="md-ellipsis">
      CreateInventoryPanel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemregistered" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemRegistered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializeditems" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onserverlog" class="md-nav__link">
    <span class="md-ellipsis">
      OnServerLog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domoduleincludes" class="md-nav__link">
    <span class="md-ellipsis">
      DoModuleIncludes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onfinishload" class="md-nav__link">
    <span class="md-ellipsis">
      OnFinishLoad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedschema" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedmodules" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedModules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onpickupmoney" class="md-nav__link">
    <span class="md-ellipsis">
      OnPickupMoney
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemspawned" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemSpawned
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadfonts" class="md-nav__link">
    <span class="md-ellipsis">
      LoadFonts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loadliliafonts" class="md-nav__link">
    <span class="md-ellipsis">
      LoadLiliaFonts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initializedconfig" class="md-nav__link">
    <span class="md-ellipsis">
      InitializedConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moduleloaded" class="md-nav__link">
    <span class="md-ellipsis">
      ModuleLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#databaseconnected" class="md-nav__link">
    <span class="md-ellipsis">
      DatabaseConnected
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onwipetables" class="md-nav__link">
    <span class="md-ellipsis">
      OnWipeTables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupdatabase" class="md-nav__link">
    <span class="md-ellipsis">
      SetupDatabase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerunequipitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUnequipItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerdropitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerDropItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayertakeitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerTakeItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerequipitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerEquipItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerinteractitem" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerInteractItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entityremoved" class="md-nav__link">
    <span class="md-ellipsis">
      EntityRemoved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerinitialspawn" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerInitialSpawn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerinitialspawn" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerInitialSpawn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerliliadataloaded" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerLiliaDataLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchardisconnect" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharDisconnect
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldspawnclientragdoll" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldSpawnClientRagdoll
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playeruse" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerUse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldmenubuttonshow" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldMenuButtonShow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onitemcreated" class="md-nav__link">
    <span class="md-ellipsis">
      OnItemCreated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getitemdropmodel" class="md-nav__link">
    <span class="md-ellipsis">
      getItemDropModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handleitemtransferrequest" class="md-nav__link">
    <span class="md-ellipsis">
      HandleItemTransferRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupbaginventoryaccessrules" class="md-nav__link">
    <span class="md-ellipsis">
      SetupBagInventoryAccessRules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canpickupmoney" class="md-nav__link">
    <span class="md-ellipsis">
      CanPickupMoney
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmoneymodel" class="md-nav__link">
    <span class="md-ellipsis">
      GetMoneyModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canoutfitchangemodel" class="md-nav__link">
    <span class="md-ellipsis">
      CanOutfitChangeModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharpermakilled" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharPermakilled
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemcombine" class="md-nav__link">
    <span class="md-ellipsis">
      ItemCombine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharfallover" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharFallover
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addcreationdata" class="md-nav__link">
    <span class="md-ellipsis">
      AddCreationData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charlistupdated" class="md-nav__link">
    <span class="md-ellipsis">
      CharListUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurecharactercreationsteps" class="md-nav__link">
    <span class="md-ellipsis">
      ConfigureCharacterCreationSteps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#candeletechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanDeleteChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kickedfromchar" class="md-nav__link">
    <span class="md-ellipsis">
      KickedFromChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lilialoaded" class="md-nav__link">
    <span class="md-ellipsis">
      LiliaLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorclassupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorClassUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorfactionupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorFactionUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemmaxstockupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemMaxStockUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemstockupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemStockUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritemmodeupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemModeUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoritempriceupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorItemPriceUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendormoneyupdated" class="md-nav__link">
    <span class="md-ellipsis">
      VendorMoneyUpdated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoredited" class="md-nav__link">
    <span class="md-ellipsis">
      VendorEdited
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendortradeevent" class="md-nav__link">
    <span class="md-ellipsis">
      VendorTradeEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorsynchronized" class="md-nav__link">
    <span class="md-ellipsis">
      VendorSynchronized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayeraccessvendor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerAccessVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchartradevendor" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharTradeVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendorexited" class="md-nav__link">
    <span class="md-ellipsis">
      VendorExited
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoropened" class="md-nav__link">
    <span class="md-ellipsis">
      VendorOpened
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onopenvendormenu" class="md-nav__link">
    <span class="md-ellipsis">
      OnOpenVendorMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factiononloadout" class="md-nav__link">
    <span class="md-ellipsis">
      FactionOnLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classonloadout" class="md-nav__link">
    <span class="md-ellipsis">
      ClassOnLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factionpostloadout" class="md-nav__link">
    <span class="md-ellipsis">
      FactionPostLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classpostloadout" class="md-nav__link">
    <span class="md-ellipsis">
      ClassPostLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerloadout" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerLoadout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chattextchanged" class="md-nav__link">
    <span class="md-ellipsis">
      ChatTextChanged
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finishchat" class="md-nav__link">
    <span class="md-ellipsis">
      FinishChat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chataddtext" class="md-nav__link">
    <span class="md-ellipsis">
      ChatAddText
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#startchat" class="md-nav__link">
    <span class="md-ellipsis">
      StartChat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayersay" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerSay
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onchatreceived" class="md-nav__link">
    <span class="md-ellipsis">
      OnChatReceived
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#candisplaycharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      CanDisplayCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewinventory" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buildhelpmenu" class="md-nav__link">
    <span class="md-ellipsis">
      BuildHelpMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createmenubuttons" class="md-nav__link">
    <span class="md-ellipsis">
      CreateMenuButtons
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawammohud" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawAmmoHUD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawcharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawentityinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawEntityInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawentityinfo" class="md-nav__link">
    <span class="md-ellipsis">
      DrawEntityInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawcrosshair-alias-1" class="md-nav__link">
    <span class="md-ellipsis">
      DrawCrosshair (Alias 1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawvignette" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawVignette
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawvignette" class="md-nav__link">
    <span class="md-ellipsis">
      DrawVignette
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawbranchwarning" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawBranchWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawbranchwarning" class="md-nav__link">
    <span class="md-ellipsis">
      DrawBranchWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawblur" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawBlur
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawblur" class="md-nav__link">
    <span class="md-ellipsis">
      DrawBlur
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddrawplayerinfo" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDrawPlayerInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltipinitialize" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipInitialize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltippaint" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipPaint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooltiplayout" class="md-nav__link">
    <span class="md-ellipsis">
      TooltipLayout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjustbluramount" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustBlurAmount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setupquickmenu" class="md-nav__link">
    <span class="md-ellipsis">
      SetupQuickMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawliliamodelview" class="md-nav__link">
    <span class="md-ellipsis">
      DrawLiliaModelView
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldshowplayeronscoreboard" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldShowPlayerOnScoreboard
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#showplayeroptions" class="md-nav__link">
    <span class="md-ellipsis">
      ShowPlayerOptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shouldallowscoreboardoverride" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldAllowScoreboardOverride
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayeraccessdoor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerAccessDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onplayerpurchasedoor" class="md-nav__link">
    <span class="md-ellipsis">
      OnPlayerPurchaseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerusedoor" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerUseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keylock" class="md-nav__link">
    <span class="md-ellipsis">
      KeyLock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyunlock" class="md-nav__link">
    <span class="md-ellipsis">
      KeyUnlock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#togglelock" class="md-nav__link">
    <span class="md-ellipsis">
      ToggleLock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callondoorchildren" class="md-nav__link">
    <span class="md-ellipsis">
      callOnDoorChildren
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copyparentdoor" class="md-nav__link">
    <span class="md-ellipsis">
      copyParentDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddeletesaveditems" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDeleteSavedItems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onsaveditemloaded" class="md-nav__link">
    <span class="md-ellipsis">
      OnSavedItemLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddisablethirdperson" class="md-nav__link">
    <span class="md-ellipsis">
      ShouldDisableThirdperson
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharattribboosted" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharAttribBoosted
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerstaminagained" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerStaminaGained
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerstaminalost" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerStaminaLost
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerthrowpunch" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerThrowPunch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaoffsetrunning" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaOffsetRunning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaregeneration" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaRegeneration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjuststaminaoffset" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustStaminaOffset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calcstaminachange" class="md-nav__link">
    <span class="md-ellipsis">
      CalcStaminaChange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewattributes" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewAttributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstartattribpoints" class="md-nav__link">
    <span class="md-ellipsis">
      GetStartAttribPoints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playercanpickupitem-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerCanPickupItem (Attributes)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charmaxstamina" class="md-nav__link">
    <span class="md-ellipsis">
      CharMaxStamina
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postdrawinventory-inventory" class="md-nav__link">
    <span class="md-ellipsis">
      PostDrawInventory (Inventory)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptclickitemicon" class="md-nav__link">
    <span class="md-ellipsis">
      InterceptClickItemIcon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onrequestitemtransfer" class="md-nav__link">
    <span class="md-ellipsis">
      OnRequestItemTransfer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itempaintover" class="md-nav__link">
    <span class="md-ellipsis">
      ItemPaintOver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncreateiteminteractionmenu" class="md-nav__link">
    <span class="md-ellipsis">
      OnCreateItemInteractionMenu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canrunitemaction" class="md-nav__link">
    <span class="md-ellipsis">
      CanRunItemAction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canitembetransfered" class="md-nav__link">
    <span class="md-ellipsis">
      CanItemBeTransfered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemdraggedoutofinventory" class="md-nav__link">
    <span class="md-ellipsis">
      ItemDraggedOutOfInventory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itemtransfered" class="md-nav__link">
    <span class="md-ellipsis">
      ItemTransfered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#onplayerloststackitem" class="md-nav__link">
    <span class="md-ellipsis">
      OnPlayerLostStackItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerspawnstorage" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerSpawnStorage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issuitablefortrunk" class="md-nav__link">
    <span class="md-ellipsis">
      isSuitableForTrunk
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncreatestoragepanel" class="md-nav__link">
    <span class="md-ellipsis">
      OnCreateStoragePanel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cansavedata" class="md-nav__link">
    <span class="md-ellipsis">
      CanSaveData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storagerestored" class="md-nav__link">
    <span class="md-ellipsis">
      StorageRestored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageopen" class="md-nav__link">
    <span class="md-ellipsis">
      StorageOpen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageunlockprompt" class="md-nav__link">
    <span class="md-ellipsis">
      StorageUnlockPrompt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storagecantransferitem" class="md-nav__link">
    <span class="md-ellipsis">
      StorageCanTransferItem
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageentityremoved" class="md-nav__link">
    <span class="md-ellipsis">
      StorageEntityRemoved
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storageinventoryset" class="md-nav__link">
    <span class="md-ellipsis">
      StorageInventorySet
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ischarrecognized" class="md-nav__link">
    <span class="md-ellipsis">
      isCharRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ischarfakerecognized" class="md-nav__link">
    <span class="md-ellipsis">
      isCharFakeRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfakenameexistant" class="md-nav__link">
    <span class="md-ellipsis">
      isFakeNameExistant
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharrecognized" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharRecognized
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charrecognize" class="md-nav__link">
    <span class="md-ellipsis">
      CharRecognize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayeddescription" class="md-nav__link">
    <span class="md-ellipsis">
      GetDisplayedDescription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayedname-recognition" class="md-nav__link">
    <span class="md-ellipsis">
      GetDisplayedName (Recognition)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isrecognizedchattype" class="md-nav__link">
    <span class="md-ellipsis">
      isRecognizedChatType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsalarylimit" class="md-nav__link">
    <span class="md-ellipsis">
      GetSalaryLimit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsalaryamount" class="md-nav__link">
    <span class="md-ellipsis">
      GetSalaryAmount
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerearnsalary" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerEarnSalary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createsalarytimer" class="md-nav__link">
    <span class="md-ellipsis">
      CreateSalaryTimer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayercreatechar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerCreateChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postchardelete" class="md-nav__link">
    <span class="md-ellipsis">
      PostCharDelete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmaxplayerchar" class="md-nav__link">
    <span class="md-ellipsis">
      GetMaxPlayerChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chardeleted" class="md-nav__link">
    <span class="md-ellipsis">
      CharDeleted
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preplayerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PrePlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postplayerloadedchar" class="md-nav__link">
    <span class="md-ellipsis">
      PostPlayerLoadedChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charloaded" class="md-nav__link">
    <span class="md-ellipsis">
      CharLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charpostsave" class="md-nav__link">
    <span class="md-ellipsis">
      CharPostSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charpresave" class="md-nav__link">
    <span class="md-ellipsis">
      CharPreSave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddsection" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddSection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddtextfield" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddTextField
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#f1onaddbarfield" class="md-nav__link">
    <span class="md-ellipsis">
      F1OnAddBarField
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerviewcommands" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerViewCommands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#charlistloaded" class="md-nav__link">
    <span class="md-ellipsis">
      CharListLoaded
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerswitchchar" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerSwitchChar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oncharcreated" class="md-nav__link">
    <span class="md-ellipsis">
      OnCharCreated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjustcreationdata" class="md-nav__link">
    <span class="md-ellipsis">
      AdjustCreationData
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawcharinfo" class="md-nav__link">
    <span class="md-ellipsis">
      DrawCharInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getinjuredtext" class="md-nav__link">
    <span class="md-ellipsis">
      GetInjuredText
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getweaponname" class="md-nav__link">
    <span class="md-ellipsis">
      GetWeaponName
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weaponcyclesound" class="md-nav__link">
    <span class="md-ellipsis">
      WeaponCycleSound
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerchooseweapon" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerChooseWeapon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weaponselectsound" class="md-nav__link">
    <span class="md-ellipsis">
      WeaponSelectSound
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canplayerusedoor" class="md-nav__link">
    <span class="md-ellipsis">
      CanPlayerUseDoor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#playeraccessvendor" class="md-nav__link">
    <span class="md-ellipsis">
      PlayerAccessVendor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getpriceoverride" class="md-nav__link">
    <span class="md-ellipsis">
      getPriceOverride
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thirdpersontoggled" class="md-nav__link">
    <span class="md-ellipsis">
      thirdPersonToggled
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Gamemode hooks</h1>

<hr />
<p>These hooks are regular hooks that can be used in your schema with SCHEMA:HookName(args), in your module with<br />
MODULE:HookName(args), or in your addon with hook.Add("HookName", function(args) end).</p>
<p>Below is a comprehensive list of available hooks and their purposes. Internal hooks are meant for internal usage by Lilia; you should only override them if you are absolutely certain you understand the implications.</p>
<hr />
<h3 id="createdefaultinventory"><strong>CreateDefaultInventory</strong></h3>
<p><strong>Description:</strong><br />
Called when creating a default inventory for a character. Should return a <a href="https://github.com/Be1zebub/luassert-deferred">deferred</a> (or similar promise) object that resolves with the new inventory.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CreateDefaultInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeStarterInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">deferred</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nf">someInventoryCreationFunction</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="p">:</span><span class="nb">next</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">            </span><span class="c1">-- Add starter items</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">            </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="s2">&quot;health_potion&quot;</span><span class="p">)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">            </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="s2">&quot;basic_sword&quot;</span><span class="p">)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">            </span><span class="nv">d</span><span class="p">:</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">        </span><span class="kr">end</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to create inventory:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">            </span><span class="nv">d</span><span class="p">:</span><span class="nf">reject</span><span class="p">(</span><span class="nv">err</span><span class="p">)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">d</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charrestored"><strong>CharRestored</strong></h3>
<p><strong>Description:</strong><br />
Called after a character has been restored from the database. Useful for post-restoration logic such as awarding default items or setting up data.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharRestored&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AwardWelcomePackage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">welcomePackage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;welcome_pack&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;starter_weapon&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;basic_armor&quot;</span><span class="p">}</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">itemID</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">welcomePackage</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">        </span><span class="nv">character</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">itemID</span><span class="p">)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome package awarded to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="prechardelete"><strong>PreCharDelete</strong></h3>
<p><strong>Description:</strong><br />
Called before a character is deleted. Allows for clean-up tasks or checks before removal from DB.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>id</code> (<code>number</code>): The ID of the character to be deleted.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PreCharDelete&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BackupCharacterData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">character</span><span class="p">.</span><span class="nf">getByID</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">backup</span><span class="p">.</span><span class="nf">saveCharacterData</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character data backed up for ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onchardelete"><strong>OnCharDelete</strong></h3>
<p><strong>Description:</strong><br />
Called after a character is deleted. Finalize any remaining actions or remove associated data.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player who triggered the deletion.
- <code>id</code> (<code>number</code>): The ID of the deleted character.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharDelete&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyDeletion&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has deleted character ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="c1">-- Notify other systems or perform cleanup</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">sendAll</span><span class="p">(</span><span class="s2">&quot;Character #&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has been deleted by &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharvarchanged"><strong>OnCharVarChanged</strong></h3>
<p><strong>Description:</strong><br />
Called when a character variable changes (server-side). Useful for responding to data updates.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character): The character object.
- <code>key</code> (<code>string</code>): The name of the variable.
- <code>oldValue</code> (<code>any</code>): The old value.
- <code>newValue</code> (<code>any</code>): The new value.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharVarChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogAttributeChanges&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">oldValue</span><span class="p">,</span><span class="w"> </span><span class="nv">newValue</span><span class="p">)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; had &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; changed from &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">oldValue</span><span class="p">)</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; to &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">newValue</span><span class="p">))</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="c1">-- Additional logic, such as triggering events based on specific changes</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;health&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">newValue</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">events</span><span class="p">.</span><span class="nf">trigger</span><span class="p">(</span><span class="s2">&quot;LowHealthWarning&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playermodelchanged"><strong>PlayerModelChanged</strong></h3>
<p><strong>Description:</strong><br />
Called when a player's model changes.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player whose model changed.
- <code>model</code> (<code>string</code>): The new model path.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerModelChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdatePlayerAppearance&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; changed their model to &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">model</span><span class="p">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="c1">-- Update related appearance settings</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setBodygroup</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Example of setting a bodygroup based on the new model</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getdefaultcharname"><strong>GetDefaultCharName</strong></h3>
<p><strong>Description:</strong><br />
Retrieves a default name for a character during creation. Return <code>(defaultName, overrideBool)</code>.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player creating the character.
- <code>faction</code> (<code>number</code>): The faction index.
- <code>data</code> (<code>table</code>): Additional creation data.</p>
<p><strong>Returns:</strong>
- <code>string</code>: The default name.
- <code>bool</code>: Whether to override the user-provided name.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetDefaultCharName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PoliceDefaultName&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">faction</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">)</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">FACTION_POLICE</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;Officer &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">data</span><span class="p">.</span><span class="py">lastName</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;Smith&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getdefaultchardesc"><strong>GetDefaultCharDesc</strong></h3>
<p><strong>Description:</strong><br />
Retrieves a default description for a character during creation. Return <code>(defaultDesc, overrideBool)</code>.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>faction</code> (<code>number</code>)</p>
<p><strong>Returns:</strong>
- <code>string</code>: The default description.
- <code>bool</code>: Whether to override.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetDefaultCharDesc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CitizenDefaultDesc&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">faction</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">FACTION_CITIZEN</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;A hardworking member of society.&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldhidebars"><strong>ShouldHideBars</strong></h3>
<p><strong>Description:</strong><br />
Determines whether all HUD bars should be hidden.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: <code>true</code> to hide, <code>nil</code> to allow rendering.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldHideBars&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideHUDInCinematic&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">gui</span><span class="p">.</span><span class="nf">IsInCinematicMode</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldbardraw"><strong>ShouldBarDraw</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a specific HUD bar should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>barName</code> (<code>string</code>): e.g. <code>"health"</code>, <code>"armor"</code>.</p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: <code>false</code> to hide, <code>nil</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldBarDraw&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideArmorHUD&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">barName</span><span class="p">)</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">barName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;armor&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializedchatclasses"><strong>InitializedChatClasses</strong></h3>
<p><strong>Description:</strong><br />
Called once all chat classes have been initialized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InitializedChatClasses&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RegisterGlobalOOC&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">chat</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="s2">&quot;globalOOC&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">        </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;/gooc&quot;</span><span class="p">},</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">        </span><span class="nv">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;[GLOBAL OOC] %s: </span><span class="se">\&quot;</span><span class="s2">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">        </span><span class="nv">onCanHear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">speaker</span><span class="p">,</span><span class="w"> </span><span class="nv">listener</span><span class="p">)</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="nv">listener</span><span class="p">:</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="c1">-- Only admins can hear global OOC</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playermessagesend"><strong>PlayerMessageSend</strong></h3>
<p><strong>Description:</strong><br />
Called before a chat message is sent. Return <code>false</code> to cancel, or modify the message if returning a string.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>speaker</code> (<code>Player</code>)
- <code>chatType</code> (<code>string</code>)
- <code>message</code> (<code>string</code>)
- <code>anonymous</code> (<code>bool</code>)</p>
<p><strong>Returns:</strong>
- <code>bool|nil|modifiedString</code>: <code>false</code> to cancel, or return a modified string to change the message.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerMessageSend&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;FilterProfanity&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">speaker</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">,</span><span class="w"> </span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="nv">anonymous</span><span class="p">)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">filteredMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.gsub</span><span class="p">(</span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;badword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;****&quot;</span><span class="p">)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">filteredMessage</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">message</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">filteredMessage</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerjoinclass"><strong>CanPlayerJoinClass</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a player can join a certain class. Return <code>false</code> to block.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>class</code> (<code>number</code>)
- <code>info</code> (<code>table</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool|nil</code>: <code>false</code> to block, <code>nil</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerJoinClass&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictEliteClass&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">class</span><span class="p">,</span><span class="w"> </span><span class="nv">info</span><span class="p">)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_ELITE</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasPermission</span><span class="p">(</span><span class="s2">&quot;join_elite&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializedclasses"><strong>InitializedClasses</strong></h3>
<p><strong>Description:</strong><br />
Called after all classes have been initialized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InitializedClasses&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddCustomClass&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">CLASS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nv">CLASS</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Medic&quot;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nv">CLASS</span><span class="p">.</span><span class="py">faction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">FACTION_HEALTHCARE</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="nv">CLASS</span><span class="p">.</span><span class="py">isDefault</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="nv">CLASS</span><span class="p">.</span><span class="py">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="nv">lia</span><span class="p">.</span><span class="py">class</span><span class="p">.</span><span class="py">list</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">class</span><span class="p">.</span><span class="py">list</span><span class="p">[</span><span class="nv">CLASS</span><span class="p">.</span><span class="py">index</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">CLASS</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom class &#39;Medic&#39; added.&quot;</span><span class="p">)</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerusecommand"><strong>CanPlayerUseCommand</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can use a specific command. Return <code>false</code> to block usage.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>command</code> (<code>string</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool|nil</code>: <code>false</code> to block, <code>nil</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerUseCommand&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BlockSensitiveCommands&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">command</span><span class="p">)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">blockedCommands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;shutdown&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;restart&quot;</span><span class="p">}</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">HasValue</span><span class="p">(</span><span class="nv">blockedCommands</span><span class="p">,</span><span class="w"> </span><span class="nv">command</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isSuperAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddatabesaved"><strong>ShouldDataBeSaved</strong></h3>
<p><strong>Description:</strong><br />
Determines whether data should be saved during server shutdown.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> to save, <code>false</code> to skip.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDataBeSaved&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ConditionalDataSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">enableDataPersistence</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postloaddata"><strong>PostLoadData</strong></h3>
<p><strong>Description:</strong><br />
Called after all data has been loaded.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostLoadData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializePlayerStats&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">player</span><span class="p">.</span><span class="nf">GetAll</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;player_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="p">{</span><span class="nv">kills</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">deaths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">})</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">setKills</span><span class="p">(</span><span class="nv">stats</span><span class="p">.</span><span class="py">kills</span><span class="p">)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">        </span><span class="nv">ply</span><span class="p">:</span><span class="nf">setDeaths</span><span class="p">(</span><span class="nv">stats</span><span class="p">.</span><span class="py">deaths</span><span class="p">)</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initialized stats for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="savedata"><strong>SaveData</strong></h3>
<p><strong>Description:</strong><br />
Saves all relevant data to disk, triggered during map cleanup and shutdown.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;SaveData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PersistPlayerData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">player</span><span class="p">.</span><span class="nf">GetAll</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">getChar</span><span class="p">()</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="s2">&quot;player_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">char</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="nv">char</span><span class="p">:</span><span class="nf">getData</span><span class="p">(),</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saved data for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">char</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="loaddata"><strong>LoadData</strong></h3>
<p><strong>Description:</strong><br />
Loads all relevant data from disk, typically after map cleanup.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;LoadData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LoadPlayerData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="py">stored</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">string</span><span class="p">.</span><span class="nf">StartWith</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;player_&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="p">{})</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">playerID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.sub</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Remove &#39;player_&#39; prefix</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">player</span><span class="p">.</span><span class="nf">GetBySteamID</span><span class="p">(</span><span class="nv">playerID</span><span class="p">)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">ply</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">                </span><span class="nv">ply</span><span class="p">:</span><span class="nf">setKills</span><span class="p">(</span><span class="nv">data</span><span class="p">.</span><span class="py">kills</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">                </span><span class="nv">ply</span><span class="p">:</span><span class="nf">setDeaths</span><span class="p">(</span><span class="nv">data</span><span class="p">.</span><span class="py">deaths</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">                </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded data for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">ply</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onmysqlooconnected"><strong>OnMySQLOOConnected</strong></h3>
<p><strong>Description:</strong><br />
Called when MySQLOO successfully connects to the database. Use to register prepared statements or init DB logic.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnMySQLOOConnected&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PrepareDatabaseStatements&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">prepare</span><span class="p">(</span><span class="s2">&quot;insertPlayer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;INSERT INTO lia_players (_steamID, _steamName) VALUES (?, ?)&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">MYSQLOO_STRING</span><span class="p">,</span><span class="w"> </span><span class="nv">MYSQLOO_STRING</span><span class="p">})</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">prepare</span><span class="p">(</span><span class="s2">&quot;updatePlayerStats&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UPDATE lia_players SET kills = ?, deaths = ? WHERE _steamID = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">MYSQLOO_NUMBER</span><span class="p">,</span><span class="w"> </span><span class="nv">MYSQLOO_NUMBER</span><span class="p">,</span><span class="w"> </span><span class="nv">MYSQLOO_STRING</span><span class="p">})</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepared MySQLOO statements.&quot;</span><span class="p">)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="liliatablesloaded"><strong>LiliaTablesLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called after all essential DB tables have been loaded.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;LiliaTablesLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeGameState&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">gameState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">gameState</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">gameState</span><span class="p">.</span><span class="py">activeEvents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All essential Lilia tables have been loaded. Game state initialized.&quot;</span><span class="p">)</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onloadtables"><strong>OnLoadTables</strong></h3>
<p><strong>Description:</strong><br />
Called before the faction tables are loaded. Good spot for data setup prior to factions being processed.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnLoadTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetupFactionDefaults&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">factions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">factions</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">factions</span><span class="p">.</span><span class="py">defaultPermissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">canUseWeapons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nv">canAccessBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Faction defaults have been set up.&quot;</span><span class="p">)</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="persistencesave"><strong>PersistenceSave</strong></h3>
<p><strong>Description:</strong><br />
Called to save persistent data (like map entities), often during map cleanup or shutdown.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Usage Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PersistenceSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SaveMapEntities&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">ent</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">ents</span><span class="p">.</span><span class="nf">GetAll</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">isPersistent</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="s2">&quot;entity_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">(),</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">getData</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saved entity data for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">ent</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="registerpreparedstatements"><strong>RegisterPreparedStatements</strong></h3>
<p><strong>Description:</strong><br />
Called for registering DB prepared statements post-MySQLOO connection.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Usage Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;RegisterPreparedStatements&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RegisterAllStatements&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">prepare</span><span class="p">(</span><span class="s2">&quot;deletePlayer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DELETE FROM lia_players WHERE _steamID = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">MYSQLOO_STRING</span><span class="p">})</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">prepare</span><span class="p">(</span><span class="s2">&quot;getPlayerData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SELECT * FROM lia_players WHERE _steamID = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">MYSQLOO_STRING</span><span class="p">})</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All prepared statements have been registered.&quot;</span><span class="p">)</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charcleanup"><strong>CharCleanUp</strong></h3>
<p><strong>Description:</strong><br />
Used during character cleanup routines for additional steps when removing or transitioning a character.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>character</code>: The character being cleaned up.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharCleanUp&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RemoveTemporaryItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">()</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isTemporary</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">            </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Removed temporary item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="createinventorypanel"><strong>CreateInventoryPanel</strong></h3>
<p><strong>Description:</strong><br />
Client-side call when creating the graphical representation of an inventory.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong><br />
- <code>inventory</code>
- <code>parent</code> (<code>Panel</code>)</p>
<p><strong>Returns:</strong><br />
<code>Panel|nil</code>  A custom panel or nil for default logic.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CreateInventoryPanel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomInventoryUI&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">panel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DPanel&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">)</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">)</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span><span class="nv">panel</span><span class="p">.</span><span class="py">Paint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">RoundedBox</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">))</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">itemList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DScrollPanel&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">    </span><span class="nv">itemList</span><span class="p">:</span><span class="nf">Dock</span><span class="p">(</span><span class="nv">FILL</span><span class="p">)</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getItems</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">itemPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemList</span><span class="p">)</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">        </span><span class="nv">itemPanel</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">        </span><span class="nv">itemPanel</span><span class="p">:</span><span class="nf">Dock</span><span class="p">(</span><span class="nv">TOP</span><span class="p">)</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">        </span><span class="nv">itemPanel</span><span class="p">:</span><span class="nf">SetTall</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">        </span><span class="nv">itemPanel</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Selected item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>
</span><span id="__span-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">panel</span>
</span><span id="__span-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemregistered"><strong>OnItemRegistered</strong></h3>
<p><strong>Description:</strong><br />
Called after an item has been registered. Useful for customizing item behavior or adding properties.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong><br />
- <code>item</code> (Item)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnItemRegistered&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddItemDurability&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;sword_basic&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">        </span><span class="nv">item</span><span class="p">.</span><span class="py">durability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">        </span><span class="nv">item</span><span class="p">.</span><span class="py">onUse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">)</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">            </span><span class="nv">self</span><span class="p">.</span><span class="py">durability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">durability</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">durability</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">                </span><span class="nv">self</span><span class="p">:</span><span class="nf">destroy</span><span class="p">()</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">                </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Your sword has broken!&quot;</span><span class="p">)</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Durability added to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializeditems"><strong>InitializedItems</strong></h3>
<p><strong>Description:</strong><br />
Called once all item modules have been loaded from a directory.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InitializedItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetupSpecialItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">specialItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">        </span><span class="nv">uniqueID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;magic_ring&quot;</span><span class="p">,</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Magic Ring&quot;</span><span class="p">,</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">        </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;A ring imbued with magical properties.&quot;</span><span class="p">,</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">        </span><span class="nv">onUse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">player</span><span class="p">)</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">            </span><span class="nv">player</span><span class="p">:</span><span class="nf">grantAbility</span><span class="p">(</span><span class="s2">&quot;invisibility&quot;</span><span class="p">)</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="nv">player</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has activated the Magic Ring!&quot;</span><span class="p">)</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Special items have been set up.&quot;</span><span class="p">)</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onserverlog"><strong>OnServerLog</strong></h3>
<p><strong>Description:</strong><br />
Called whenever a new log message is added. Allows for custom logic or modifications to log handling.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong><br />
- <code>client</code> (<code>Player</code>)
- <code>logType</code> (<code>string</code>)
- <code>logString</code> (<code>string</code>)
- <code>category</code> (<code>string</code>)
- <code>color</code> (<code>Color</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnServerLog&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AlertAdminsOnHighSeverity&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">logType</span><span class="p">,</span><span class="w"> </span><span class="nv">logString</span><span class="p">,</span><span class="w"> </span><span class="nv">category</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">)</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">        </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">admin</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">player</span><span class="p">.</span><span class="nf">GetAll</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="nv">admin</span><span class="p">:</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">                </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">admin</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Error Log: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">logString</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">            </span><span class="kr">end</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="domoduleincludes"><strong>DoModuleIncludes</strong></h3>
<p><strong>Description:</strong><br />
Called when modules include submodules. Useful for advanced module handling or dependency management.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong><br />
- <code>path</code> (<code>string</code>)
- <code>module</code> (<code>table</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DoModuleIncludes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;TrackModuleDependencies&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">path</span><span class="p">,</span><span class="w"> </span><span class="nv">module</span><span class="p">)</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Including submodule from path:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">path</span><span class="p">)</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="nv">module</span><span class="p">.</span><span class="py">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">module</span><span class="p">.</span><span class="py">dependencies</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">module</span><span class="p">.</span><span class="py">dependencies</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;base_module&quot;</span><span class="p">)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onfinishload"><strong>OnFinishLoad</strong></h3>
<p><strong>Description:</strong><br />
Called after a module finishes loading. Ideal for final logic once all module files are processed.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong><br />
- <code>path</code> (<code>string</code>): The file path.
- <code>firstLoad</code> (<code>bool</code>): Whether this is the first load of the module.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnFinishLoad&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ModuleLoadNotifier&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">path</span><span class="p">,</span><span class="w"> </span><span class="nv">firstLoad</span><span class="p">)</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">firstLoad</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Module loaded for the first time from:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">path</span><span class="p">)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Module reloaded from:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">path</span><span class="p">)</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializedschema"><strong>InitializedSchema</strong></h3>
<p><strong>Description:</strong><br />
Called after the schema has finished initializing.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InitializedSchema&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SchemaReadyNotification&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Schema has been successfully initialized.&quot;</span><span class="p">)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">broadcast</span><span class="p">(</span><span class="s2">&quot;Welcome to the server! The schema is now active.&quot;</span><span class="p">)</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializedmodules"><strong>InitializedModules</strong></h3>
<p><strong>Description:</strong><br />
Called after all modules are fully initialized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InitializedModules&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;FinalizeModuleSetup&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">modules</span><span class="p">.</span><span class="nf">finalizeSetup</span><span class="p">()</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All modules have been fully initialized.&quot;</span><span class="p">)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onpickupmoney"><strong>OnPickupMoney</strong></h3>
<p><strong>Description:</strong><br />
Called when a player picks up money from the ground.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong><br />
- <code>client</code> (<code>Player</code>)
- <code>moneyEntity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">OnPickupMoney</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">moneyEntity</span><span class="p">)</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">moneyEntity</span><span class="p">:</span><span class="nf">getAmount</span><span class="p">()</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">addMoney</span><span class="p">(</span><span class="nv">amount</span><span class="p">)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; picked up $&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">amount</span><span class="p">)</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="nv">moneyEntity</span><span class="p">:</span><span class="nf">Remove</span><span class="p">()</span><span class="w"> </span><span class="c1">-- Remove the money entity from the ground</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemspawned"><strong>OnItemSpawned</strong></h3>
<p><strong>Description:</strong><br />
Called whenever an item entity spawns in the world. Use <code>entity:getItemTable()</code> to access item data.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnItemSpawned&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogItemSpawns&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">getItemTable</span><span class="p">()</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Item spawned:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;at position&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;An unknown item has spawned.&quot;</span><span class="p">)</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="loadfonts"><strong>LoadFonts</strong></h3>
<p><strong>Description:</strong><br />
Loads custom fonts for the client.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>font</code> (<code>string</code>)
- <code>genericFont</code> (<code>string</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">LoadFonts</span><span class="p">(</span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="nv">genericFont</span><span class="p">)</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">CreateFont</span><span class="p">(</span><span class="s2">&quot;CustomHUDFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">        </span><span class="nv">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">font</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">        </span><span class="nv">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">        </span><span class="nv">antialias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">CreateFont</span><span class="p">(</span><span class="s2">&quot;NotificationFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">        </span><span class="nv">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">genericFont</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;Tahoma&quot;</span><span class="p">,</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">        </span><span class="nv">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">        </span><span class="nv">italic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom fonts loaded.&quot;</span><span class="p">)</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="kr">end</span>
</span></code></pre></div></p>
<h3 id="loadliliafonts"><strong>LoadLiliaFonts</strong></h3>
<p><strong>Description:</strong><br />
Used internally to load core fonts. Override only if you understand the implications.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>font</code> (<code>string</code>)
- <code>genericFont</code> (<code>string</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">LoadLiliaFonts</span><span class="p">(</span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="nv">genericFont</span><span class="p">)</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">CreateFont</span><span class="p">(</span><span class="s2">&quot;LiliaDefault&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">        </span><span class="nv">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">font</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;Verdana&quot;</span><span class="p">,</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">        </span><span class="nv">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">        </span><span class="nv">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">600</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Lilia core fonts have been loaded.&quot;</span><span class="p">)</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="initializedconfig"><strong>InitializedConfig</strong></h3>
<p><strong>Description:</strong><br />
Called when <code>lia.config</code> is fully initialized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">InitializedConfig</span><span class="p">()</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">enableSpecialFeatures</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">features</span><span class="p">.</span><span class="nf">enable</span><span class="p">()</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Special features have been enabled.&quot;</span><span class="p">)</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Special features are disabled in the config.&quot;</span><span class="p">)</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="moduleloaded"><strong>ModuleLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called when a module has finished loading (post-load logic).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">ModuleLoaded</span><span class="p">()</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Module &#39;&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;&#39; has been loaded successfully.&quot;</span><span class="p">)</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="c1">-- Perform additional setup or initialization if necessary</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="databaseconnected"><strong>DatabaseConnected</strong></h3>
<p><strong>Description:</strong><br />
Indicates successful MySQLOO DB connection. Used internally.</p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">-- Internal usage; generally not overridden by modules</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">DatabaseConnected</span><span class="p">()</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Database connection established.&quot;</span><span class="p">)</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="c1">-- Internal initialization tasks</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="onwipetables"><strong>OnWipeTables</strong></h3>
<p><strong>Description:</strong><br />
Called after wiping tables in the DB, typically after major resets/cleanups.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnWipeTables&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ReinitializeDefaults&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO lia_factions (name, description) VALUES (&#39;Citizen&#39;, &#39;Regular inhabitants.&#39;)&quot;</span><span class="p">)</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO lia_classes (name, faction) VALUES (&#39;Warrior&#39;, &#39;Citizen&#39;)&quot;</span><span class="p">)</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Database tables wiped and defaults reinitialized.&quot;</span><span class="p">)</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="setupdatabase"><strong>SetupDatabase</strong></h3>
<p><strong>Description:</strong><br />
Used internally by Lilia to set up the database.</p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">-- Internal usage; generally not overridden by modules</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">SetupDatabase</span><span class="p">()</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE IF NOT EXISTS lia_players (id INT AUTO_INCREMENT, _steamID VARCHAR(32), _steamName VARCHAR(64), PRIMARY KEY(id))&quot;</span><span class="p">)</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE IF NOT EXISTS lia_factions (id INT AUTO_INCREMENT, name VARCHAR(32), description TEXT, PRIMARY KEY(id))&quot;</span><span class="p">)</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Database tables have been set up.&quot;</span><span class="p">)</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerunequipitem"><strong>CanPlayerUnequipItem</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a player can unequip a given item.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (<code>table</code> or custom item object`)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> if allowed, <code>false</code> if blocked.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanPlayerUnequipItem</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;quest_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent unequipping quest-related items</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerdropitem"><strong>CanPlayerDropItem</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player is allowed to drop a specific item.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (<code>int</code> or <code>table</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> to allow, <code>false</code> to block.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanPlayerDropItem</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;rare_artifact&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Only admins can drop rare artifacts</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayertakeitem"><strong>CanPlayerTakeItem</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can pick up an item into their inventory.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (<code>Entity</code> or <code>table</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> if allowed, <code>false</code> otherwise.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanPlayerTakeItem</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isBoundToPlayer</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent picking up items bound to other players</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerequipitem"><strong>CanPlayerEquipItem</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can equip a given item (e.g., outfits, weapons).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (<code>table</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanPlayerEquipItem</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Weapon&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasLicense</span><span class="p">(</span><span class="s2">&quot;weapon&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Require a license to equip weapons</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerinteractitem"><strong>CanPlayerInteractItem</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can interact with an item (pick up, drop, transfer, etc.). Called after other checks.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>action</code> (<code>string</code>): e.g. <code>"drop"</code>, <code>"pickup"</code>, <code>"transfer"</code>
- <code>item</code> (<code>int</code> or <code>table</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> if allowed, <code>false</code> otherwise.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanPlayerInteractItem</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;transfer&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isBoundToFaction</span><span class="p">(</span><span class="s2">&quot;Police&quot;</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isPolice</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Only police can transfer faction-bound items</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="entityremoved"><strong>EntityRemoved</strong></h3>
<p><strong>Description:</strong><br />
Called when an entity is removed. Often used for cleaning up net variables.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong><br />
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;EntityRemoved&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CleanupEntityData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isItem</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="s2">&quot;entity_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cleaned up data for removed entity:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerinitialspawn"><strong>PlayerInitialSpawn</strong></h3>
<p><strong>Description:</strong><br />
Called when a player initially spawns on the server. Used to sync net vars or send data to the client.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerInitialSpawn&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SyncPlayerData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getChar</span><span class="p">()</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">netstream</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SyncCharData&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">char</span><span class="p">:</span><span class="nf">getData</span><span class="p">())</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Synchronized data for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postplayerinitialspawn"><strong>PostPlayerInitialSpawn</strong></h3>
<p><strong>Description:</strong><br />
Called after a player has fully initialized (post-initial-spawn logic).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostPlayerInitialSpawn&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SendWelcomeMessage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Welcome to the server, &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Welcome to the server!&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerliliadataloaded"><strong>PlayerLiliaDataLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called when Lilia has finished loading all its data for a player (e.g., characters, inventories).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerLiliaDataLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializePlayerStats&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setHealth</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">getHealth</span><span class="p">())</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setArmor</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">getArmor</span><span class="p">())</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player data loaded for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onchardisconnect"><strong>OnCharDisconnect</strong></h3>
<p><strong>Description:</strong><br />
Called when a player disconnects while having a valid character. Often used for partial saves or cleanups.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharDisconnect&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SavePartialData&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="s2">&quot;player_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getID</span><span class="p">(),</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getPartialData</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Partial data saved for disconnected character:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldspawnclientragdoll"><strong>ShouldSpawnClientRagdoll</strong></h3>
<p><strong>Description:</strong><br />
Determines if a client ragdoll should spawn (e.g., on death or fallover).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code> (<code>false</code> to prevent ragdoll)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldSpawnClientRagdoll&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DisableRagdollForVIPs&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isVIP</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- VIPs do not spawn ragdolls on death</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playeruse"><strong>PlayerUse</strong></h3>
<p><strong>Description:</strong><br />
Called when a player attempts to use an entity recognized as a door or player.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerUse&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventUsingLockedDoors&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isDoor</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isUnlocked</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;This door is locked.&quot;</span><span class="p">)</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent usage</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldmenubuttonshow"><strong>ShouldMenuButtonShow</strong></h3>
<p><strong>Description:</strong><br />
Determines if a particular menu button should appear (e.g., character creation).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>buttonName</code> (<code>string</code>)</p>
<p><strong>Returns:</strong><br />
1. <code>bool|nil</code>  Return <code>false</code> to hide, or <code>nil</code> to allow.<br />
2. <code>string|nil</code>  Optional reason or message.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldMenuButtonShow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideAdminMenuButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">buttonName</span><span class="p">)</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">buttonName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;AdminPanel&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Admin access required.&quot;</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onitemcreated"><strong>OnItemCreated</strong></h3>
<p><strong>Description:</strong><br />
Called when an item entity is <em>created</em> in the world (different from <em>OnItemSpawned</em>).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>itemTable</code> (<code>table</code>)
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnItemCreated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogNewItemCreation&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">itemTable</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New item created:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">name</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;at position&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="c1">-- Apply special properties</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;magic_scroll&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">        </span><span class="nv">entity</span><span class="p">:</span><span class="nf">setGlow</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getitemdropmodel"><strong>getItemDropModel</strong></h3>
<p><strong>Description:</strong><br />
Returns an alternate model path for a dropped item instead of the default.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>itemTable</code> (<code>table</code>)
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Returns:</strong>
- <code>string|nil</code>: An alternate path, or <code>nil</code> for default.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;getItemDropModel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomDropModelForWeapons&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">itemTable</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Weapon&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;models/weapons/w_rif_ak47.mdl&quot;</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="handleitemtransferrequest"><strong>HandleItemTransferRequest</strong></h3>
<p><strong>Description:</strong><br />
Triggered when the client sends a request to transfer an item from one inventory slot to another.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>itemID</code> (<code>number</code>)
- <code>x</code>, <code>y</code> (coordinates or nil)
- <code>invID</code> (target inventory ID or nil)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;HandleItemTransferRequest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ValidateItemTransfer&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">itemID</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">invID</span><span class="p">)</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">getItemByID</span><span class="p">(</span><span class="nv">itemID</span><span class="p">)</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isTransferable</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">moveItem</span><span class="p">(</span><span class="nv">itemID</span><span class="p">,</span><span class="w"> </span><span class="nv">invID</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; transferred item ID &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">itemID</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; to inventory &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">invID</span><span class="p">)</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You cannot transfer this item.&quot;</span><span class="p">)</span>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="setupbaginventoryaccessrules"><strong>SetupBagInventoryAccessRules</strong></h3>
<p><strong>Description:</strong><br />
Configure or override rules for a <em>bag</em> inventory (e.g., restricting categories).</p>
<p><strong>Realm:</strong> 
<code>Server</code> or <code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>inventory</code> (Inventory)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;SetupBagInventoryAccessRules&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictBagToConsumables&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">setAllowedCategories</span><span class="p">({</span><span class="s2">&quot;Consumables&quot;</span><span class="p">})</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bag inventory restricted to Consumables category.&quot;</span><span class="p">)</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canpickupmoney"><strong>CanPickupMoney</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can pick up a money entity from the ground.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>activator</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code> (<code>false</code> to block)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPickupMoney&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LimitMoneyPickupInSafeZones&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">activator</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">activator</span><span class="p">:</span><span class="nf">isInSafeZone</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent picking up money in safe zones</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getmoneymodel"><strong>GetMoneyModel</strong></h3>
<p><strong>Description:</strong><br />
Returns a custom model path for a money entity based on its amount.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>amount</code> (<code>number</code>)</p>
<p><strong>Returns:</strong>
- <code>string|nil</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetMoneyModel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DynamicMoneyModels&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">amount</span><span class="p">)</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">amount</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;models/props/cs_assault/money_bag_large.mdl&quot;</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">amount</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;models/props/cs_assault/money_bag_medium.mdl&quot;</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;models/props/cs_assault/money_bag_small.mdl&quot;</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canoutfitchangemodel"><strong>CanOutfitChangeModel</strong></h3>
<p><strong>Description:</strong><br />
Determines whether an outfit item can change the players model.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>item</code> (Item)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code> (<code>false</code> to block)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanOutfitChangeModel</span><span class="p">(</span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;halloween_costume&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent changing model with Halloween costume</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharpermakilled"><strong>OnCharPermakilled</strong></h3>
<p><strong>Description:</strong><br />
Called when a character is permanently killed.</p>
<p><strong>Realm:</strong> 
<code>Server</code> or <code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)
- <code>time</code> (<code>number|nil</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharPermakilled&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleCharacterPermakill&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="p">)</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has been permanently killed.&quot;</span><span class="p">)</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="c1">-- Log the event or notify administrators</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;CharacterPermakill&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; was permakilled.&quot;</span><span class="p">)</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="itemcombine"><strong>ItemCombine</strong></h3>
<p><strong>Description:</strong><br />
Called when the system attempts to combine one item with another in an inventory.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (Item)
- <code>targetItem</code> (Item)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>true</code> if combination is valid and consumed, <code>false</code> otherwise.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ItemCombine&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CombineHealthAndHerb&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="nv">targetItem</span><span class="p">)</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;health_potion&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">targetItem</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;herb&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">newItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">item</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="s2">&quot;super_health_potion&quot;</span><span class="p">)</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">newItem</span><span class="p">)</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">item</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">():</span><span class="nf">removeItem</span><span class="p">(</span><span class="nv">targetItem</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; combined Health Potion with Herb to create Super Health Potion.&quot;</span><span class="p">)</span>
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharfallover"><strong>OnCharFallover</strong></h3>
<p><strong>Description:</strong><br />
Called when a character ragdolls or falls over.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>unknown</code> (any)
- <code>bool</code> (forced or not)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharFallover&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleFallover&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">unknown</span><span class="p">,</span><span class="w"> </span><span class="nv">forced</span><span class="p">)</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">forced</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You have been forcibly knocked down!&quot;</span><span class="p">)</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You have fallen over.&quot;</span><span class="p">)</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">    </span><span class="c1">-- Apply status effects or cooldowns</span>
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setStatus</span><span class="p">(</span><span class="s2">&quot;falling&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="addcreationdata"><strong>AddCreationData</strong></h3>
<p><strong>Description:</strong><br />
Allows modifying or adding extra data steps in the character creation process (server side).</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>data</code> (<code>table</code>)
- <code>newData</code> (<code>table</code>)
- <code>originalData</code> (<code>table</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AddCreationData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;IncludeBackgroundStory&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">,</span><span class="w"> </span><span class="nv">newData</span><span class="p">,</span><span class="w"> </span><span class="nv">originalData</span><span class="p">)</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">    </span><span class="nv">newData</span><span class="p">.</span><span class="py">background</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;A mysterious past awaits.&quot;</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Background story added to character creation data.&quot;</span><span class="p">)</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charlistupdated"><strong>CharListUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when the character list for a player is updated (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>oldCharList</code> (<code>table</code>)
- <code>newCharList</code> (<code>table</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharListUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateUIOnCharListChange&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">oldCharList</span><span class="p">,</span><span class="w"> </span><span class="nv">newCharList</span><span class="p">)</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="o">#</span><span class="nv">newCharList</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">#</span><span class="nv">oldCharList</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A new character has been added to the list.&quot;</span><span class="p">)</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="o">#</span><span class="nv">newCharList</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">#</span><span class="nv">oldCharList</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A character has been removed from the list.&quot;</span><span class="p">)</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character list updated.&quot;</span><span class="p">)</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-66-9"><a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a><span class="w">    </span><span class="c1">-- Refresh the character selection UI</span>
</span><span id="__span-66-10"><a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a><span class="w">    </span><span class="nv">inventoryUI</span><span class="p">:</span><span class="nf">updateCharacterList</span><span class="p">(</span><span class="nv">newCharList</span><span class="p">)</span>
</span><span id="__span-66-11"><a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="configurecharactercreationsteps"><strong>ConfigureCharacterCreationSteps</strong></h3>
<p><strong>Description:</strong><br />
Allows schemas/modules to insert or modify steps in the char creation UI (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code> (<code>Panel</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ConfigureCharacterCreationSteps&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddAppearanceStep&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">appearanceStep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DPanel&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">    </span><span class="nv">appearanceStep</span><span class="p">:</span><span class="nf">Dock</span><span class="p">(</span><span class="nv">TOP</span><span class="p">)</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">    </span><span class="nv">appearanceStep</span><span class="p">:</span><span class="nf">SetTall</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="w">    </span><span class="nv">appearanceStep</span><span class="p">.</span><span class="py">Paint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Customize Your Appearance&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-67-8"><a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">addStep</span><span class="p">(</span><span class="s2">&quot;Appearance&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">appearanceStep</span><span class="p">)</span>
</span><span id="__span-67-9"><a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Appearance step added to character creation.&quot;</span><span class="p">)</span>
</span><span id="__span-67-10"><a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="candeletechar"><strong>CanDeleteChar</strong></h3>
<p><strong>Description:</strong><br />
Checks if a character can be deleted before the UI or server attempts it.</p>
<p><strong>Realm:</strong> 
<code>Client</code> or <code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>charID</code> (<code>number</code>)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code>: <code>false</code> to block
- <code>string|nil</code>: Optional reason</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanDeleteChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventDeletionOfMainChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">charID</span><span class="p">)</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">character</span><span class="p">.</span><span class="nf">getByID</span><span class="p">(</span><span class="nv">charID</span><span class="p">)</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">isMainCharacter</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;You cannot delete your main character.&quot;</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="kickedfromchar"><strong>KickedFromChar</strong></h3>
<p><strong>Description:</strong><br />
Called when a player is forcibly kicked from their current character.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>id</code> (<code>number</code>): The character ID
- <code>isCurrentChar</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;KickedFromChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyPlayerOfKick&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="nv">isCurrentChar</span><span class="p">)</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">isCurrentChar</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">        </span><span class="nv">chat</span><span class="p">.</span><span class="nf">AddText</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;You have been kicked from your current character (ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;).&quot;</span><span class="p">)</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You have been kicked from character ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="lilialoaded"><strong>LiliaLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called when Lilias client-side scripts have fully loaded.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;LiliaLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeClientFeatures&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">clientFeatures</span><span class="p">.</span><span class="nf">initialize</span><span class="p">()</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Lilia client-side scripts have been loaded.&quot;</span><span class="p">)</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendorclassupdated"><strong>VendorClassUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors allowed classes are updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>id</code> (<code>string</code>): Class ID
- <code>allowed</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorClassUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateVendorUIForClasses&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="nv">allowed</span><span class="p">)</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorPanel</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="w">        </span><span class="nv">vendorPanel</span><span class="p">:</span><span class="nf">updateClassAccess</span><span class="p">(</span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="nv">allowed</span><span class="p">)</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor class access updated for class ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendorfactionupdated"><strong>VendorFactionUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors allowed factions are updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>id</code> (<code>string</code>)
- <code>allowed</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorFactionUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RefreshVendorFactionDisplay&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="nv">allowed</span><span class="p">)</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorUI</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">updateFactionAccess</span><span class="p">(</span><span class="nv">id</span><span class="p">,</span><span class="w"> </span><span class="nv">allowed</span><span class="p">)</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor faction access updated for faction ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoritemmaxstockupdated"><strong>VendorItemMaxStockUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors item max stock is updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>itemType</code> (<code>string</code>)
- <code>value</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorItemMaxStockUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateVendorStockLimits&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorPanel</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">        </span><span class="nv">vendorPanel</span><span class="p">:</span><span class="nf">setItemMaxStock</span><span class="p">(</span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor stock limit updated for item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;New limit:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoritemstockupdated"><strong>VendorItemStockUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors item stock is updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>itemType</code> (<code>string</code>)
- <code>value</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorItemStockUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RefreshVendorItemStock&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorUI</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">updateItemStock</span><span class="p">(</span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor item stock updated for&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;New stock:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoritemmodeupdated"><strong>VendorItemModeUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors item mode is updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>itemType</code> (<code>string</code>)
- <code>value</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorItemModeUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ChangeVendorItemMode&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorUI</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">setItemMode</span><span class="p">(</span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor item mode updated for&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Mode:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoritempriceupdated"><strong>VendorItemPriceUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors item price is updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>itemType</code> (<code>string</code>)
- <code>value</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorItemPriceUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateVendorItemPrices&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorPanel</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">        </span><span class="nv">vendorPanel</span><span class="p">:</span><span class="nf">updateItemPrice</span><span class="p">(</span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor item price updated for&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemType</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;New price:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendormoneyupdated"><strong>VendorMoneyUpdated</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendors money is updated.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>money</code> (<code>int</code>)
- <code>oldMoney</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorMoneyUpdated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RefreshVendorFunds&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">money</span><span class="p">,</span><span class="w"> </span><span class="nv">oldMoney</span><span class="p">)</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorUI</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">updateFunds</span><span class="p">(</span><span class="nv">money</span><span class="p">)</span>
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor funds updated from $&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">oldMoney</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; to $&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">money</span><span class="p">)</span>
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoredited"><strong>VendorEdited</strong></h3>
<p><strong>Description:</strong><br />
Called after a delay when a vendors data is edited.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>vendor</code> (<code>Entity</code>)
- <code>key</code> (<code>string</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorEdited&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyVendorEdit&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">key</span><span class="p">)</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">sendAdmins</span><span class="p">(</span><span class="s2">&quot;Vendor &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has been edited. Key changed: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">key</span><span class="p">)</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor edited. Key:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">key</span><span class="p">)</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendortradeevent"><strong>VendorTradeEvent</strong></h3>
<p><strong>Description:</strong><br />
Called when a player attempts to trade with a vendor.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Internal:</strong><br />
This function is intended for internal use and should not be called directly.</p>
<p><strong>Parameters:</strong><br />
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>): The vendor
- <code>uniqueID</code> (<code>string</code>): The item ID
- <code>isSellingToVendor</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorTradeEvent&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogVendorTrades&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">uniqueID</span><span class="p">,</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="p">)</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="s2">&quot;sold&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;bought&quot;</span>
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; item &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">uniqueID</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; with vendor &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="w">    </span><span class="c1">-- Log the trade or apply additional logic</span>
</span><span id="__span-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;VendorTrade&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">uniqueID</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; with &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendorsynchronized"><strong>VendorSynchronized</strong></h3>
<p><strong>Description:</strong><br />
Called when vendor synchronization data is received.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>vendor</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorSynchronized&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateVendorUIAfterSync&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorUI</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">refreshItems</span><span class="p">()</span>
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor UI refreshed after synchronization for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayeraccessvendor"><strong>CanPlayerAccessVendor</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a player can access a vendor.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>): The vendor</p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerAccessVendor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictVendorAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">.</span><span class="py">requiresLevel</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getLevel</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">entity</span><span class="p">.</span><span class="py">requiredLevel</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You need to be level &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">.</span><span class="py">requiredLevel</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; to access this vendor.&quot;</span><span class="p">)</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onchartradevendor"><strong>OnCharTradeVendor</strong></h3>
<p><strong>Description:</strong><br />
Called when a character trades with a vendor.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>vendor</code> (<code>Entity</code>)
- <code>item</code> (<code>Entity</code> or item table)
- <code>isSellingToVendor</code> (<code>bool</code>)
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharTradeVendor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ApplyTradeBonuses&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Weapon&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">        </span><span class="nv">character</span><span class="p">:</span><span class="nf">addReputation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reputation increased by 10 for selling a weapon.&quot;</span><span class="p">)</span>
</span><span id="__span-82-5"><a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Potion&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-82-6"><a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="w">        </span><span class="nv">character</span><span class="p">:</span><span class="nf">addReputation</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-82-7"><a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reputation increased by 5 for buying a potion.&quot;</span><span class="p">)</span>
</span><span id="__span-82-8"><a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-82-9"><a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendorexited"><strong>VendorExited</strong></h3>
<p><strong>Description:</strong><br />
Called when a player exits from interacting with a vendor.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorExited&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CloseVendorUI&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getActiveVendorUI</span><span class="p">()</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">vendorUI</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">        </span><span class="nv">vendorUI</span><span class="p">:</span><span class="nf">remove</span><span class="p">()</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor UI has been closed.&quot;</span><span class="p">)</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="vendoropened"><strong>VendorOpened</strong></h3>
<p><strong>Description:</strong><br />
Called when a vendor is opened (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>vendor</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;VendorOpened&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeVendorInterface&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">vendorPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">createVendorPanel</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">    </span><span class="nv">vendorPanel</span><span class="p">:</span><span class="nf">open</span><span class="p">()</span>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vendor interface opened for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-84-5"><a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onopenvendormenu"><strong>OnOpenVendorMenu</strong></h3>
<p><strong>Description:</strong><br />
Called when the vendor menu is opened.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>self</code> (<code>Entity</code>): The vendor</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnOpenVendorMenu&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomizeVendorMenu&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">menu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">getVendorMenu</span><span class="p">(</span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="nv">menu</span><span class="p">:</span><span class="nf">addOption</span><span class="p">(</span><span class="s2">&quot;Donate&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">netstream</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;DonateToVendor&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">    </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Customized vendor menu for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-85-7"><a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="factiononloadout"><strong>FactionOnLoadout</strong></h3>
<p><strong>Description:</strong><br />
Called after <code>PlayerLoadout</code> is executed, specifically for faction loadout.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;FactionOnLoadout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;EquipFactionWeapons&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getFaction</span><span class="p">()</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">FACTION_POLICE</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">giveWeapon</span><span class="p">(</span><span class="s2">&quot;weapon_pistol&quot;</span><span class="p">)</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">giveWeapon</span><span class="p">(</span><span class="s2">&quot;weapon_stunstick&quot;</span><span class="p">)</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has been equipped with police weapons.&quot;</span><span class="p">)</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="classonloadout"><strong>ClassOnLoadout</strong></h3>
<p><strong>Description:</strong><br />
Called after <code>FactionOnLoadout</code> is executed, specifically for class loadout.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ClassOnLoadout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;EquipClassSpecificGear&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getClass</span><span class="p">()</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_MEDIC</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">giveItem</span><span class="p">(</span><span class="s2">&quot;medical_kit&quot;</span><span class="p">)</span>
</span><span id="__span-87-5"><a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has received a Medical Kit.&quot;</span><span class="p">)</span>
</span><span id="__span-87-6"><a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_ENGINEER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-87-7"><a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">giveItem</span><span class="p">(</span><span class="s2">&quot;toolkit&quot;</span><span class="p">)</span>
</span><span id="__span-87-8"><a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has received a Toolkit.&quot;</span><span class="p">)</span>
</span><span id="__span-87-9"><a id="__codelineno-87-9" name="__codelineno-87-9" href="#__codelineno-87-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-87-10"><a id="__codelineno-87-10" name="__codelineno-87-10" href="#__codelineno-87-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="factionpostloadout"><strong>FactionPostLoadout</strong></h3>
<p><strong>Description:</strong><br />
Called after <code>ClassOnLoadout</code>, for extra faction loadout logic.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;FactionPostLoadout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AssignFactionRole&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getFaction</span><span class="p">()</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">faction</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">FACTION_HEAVY</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">setRole</span><span class="p">(</span><span class="s2">&quot;Heavy Infantry&quot;</span><span class="p">)</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; assigned role: Heavy Infantry.&quot;</span><span class="p">)</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-88-7"><a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="classpostloadout"><strong>ClassPostLoadout</strong></h3>
<p><strong>Description:</strong><br />
Called after <code>FactionPostLoadout</code>, for extra class loadout logic.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ClassPostLoadout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ApplyClassModifiers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getClass</span><span class="p">()</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_SNIPER</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">setAccuracy</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; accuracy set to 90 for Sniper class.&quot;</span><span class="p">)</span>
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-89-7"><a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postplayerloadout"><strong>PostPlayerLoadout</strong></h3>
<p><strong>Description:</strong><br />
Called after all player loadout hooks (PlayerLoadout, FactionOnLoadout, ClassOnLoadout) have finished.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostPlayerLoadout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;FinalizePlayerStats&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">updateStats</span><span class="p">()</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Loadout complete. Good luck!&quot;</span><span class="p">)</span>
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player loadout finalized for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="chattextchanged"><strong>ChatTextChanged</strong></h3>
<p><strong>Description:</strong><br />
Called when the text in the chat input box changes.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>text</code> (<code>string</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ChatTextChanged&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MonitorChatInput&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">string.len</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">        </span><span class="nv">chat</span><span class="p">.</span><span class="nf">AddText</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Warning: Chat message is too long!&quot;</span><span class="p">)</span>
</span><span id="__span-91-4"><a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-91-5"><a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="finishchat"><strong>FinishChat</strong></h3>
<p><strong>Description:</strong><br />
Called when the chat input box is closed.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;FinishChat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ClearChatInput&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Chat input has been closed.&quot;</span><span class="p">)</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="c1">-- Perform actions like saving chat history or resetting variables</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="chataddtext"><strong>ChatAddText</strong></h3>
<p><strong>Description:</strong><br />
Called to add text to the chat. Allows formatting or modifying text before display.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>text</code> (<code>string</code>)  the markup
- <code>...</code> additional text arguments</p>
<p><strong>Returns:</strong><br />
- <code>string</code> modified text markup</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ChatAddText&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;FormatChatMessages&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">text</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span>
</span><span id="__span-93-2"><a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">formattedText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;font=DefaultBold&gt;&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;&lt;/font&gt;&quot;</span>
</span><span id="__span-93-3"><a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">formattedText</span><span class="p">,</span><span class="w"> </span><span class="p">...</span>
</span><span id="__span-93-4"><a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="startchat"><strong>StartChat</strong></h3>
<p><strong>Description:</strong><br />
Called when the chat input box is opened.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StartChat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PrepareChatInput&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Chat input has been opened.&quot;</span><span class="p">)</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">    </span><span class="c1">-- Initialize chat input state or variables</span>
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postplayersay"><strong>PostPlayerSay</strong></h3>
<p><strong>Description:</strong><br />
Called after a player sends a chat message.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>message</code> (<code>string</code>)
- <code>chatType</code> (<code>string</code>)
- <code>anonymous</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostPlayerSay&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogPlayerChats&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">,</span><span class="w"> </span><span class="nv">anonymous</span><span class="p">)</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;PlayerChat&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; [&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">chatType</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;]: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">message</span><span class="p">)</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Logged chat from:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onchatreceived"><strong>OnChatReceived</strong></h3>
<p><strong>Description:</strong><br />
Called after a player sends a chat message.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>message</code> (<code>string</code>)
- <code>chatType</code> (<code>string</code>)
- <code>anonymous</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnChatReceived&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleSpecialCommands&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">,</span><span class="w"> </span><span class="nv">anonymous</span><span class="p">)</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nb">string.sub</span><span class="p">(</span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">string.lower</span><span class="p">(</span><span class="nb">string.sub</span><span class="p">(</span><span class="nv">message</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">command</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;help&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="w">            </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Available commands: !help, !stats, !rules&quot;</span><span class="p">)</span>
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent message from being broadcasted</span>
</span><span id="__span-96-7"><a id="__codelineno-96-7" name="__codelineno-96-7" href="#__codelineno-96-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-96-8"><a id="__codelineno-96-8" name="__codelineno-96-8" href="#__codelineno-96-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-96-9"><a id="__codelineno-96-9" name="__codelineno-96-9" href="#__codelineno-96-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="candisplaycharinfo"><strong>CanDisplayCharInfo</strong></h3>
<p><strong>Description:</strong><br />
Determines whether certain information can be displayed in the character info panel of the F1 menu.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>suppress</code> (table)<br />
  - Example keys: <code>name</code>, <code>desc</code>, <code>faction</code>, <code>money</code>, <code>class</code></p>
<p><strong>Example Usage:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">MODULE</span><span class="p">:</span><span class="nf">CanDisplayCharInfo</span><span class="p">(</span><span class="nv">suppress</span><span class="p">)</span>
</span><span id="__span-97-2"><a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">hasFlag</span><span class="p">(</span><span class="s2">&quot;hide_faction&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-97-3"><a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">        </span><span class="nv">suppress</span><span class="p">.</span><span class="py">faction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-97-4"><a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-97-5"><a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">hasFlag</span><span class="p">(</span><span class="s2">&quot;hide_money&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-97-6"><a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="w">        </span><span class="nv">suppress</span><span class="p">.</span><span class="py">money</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-97-7"><a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-97-8"><a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a><span class="kr">end</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerviewinventory"><strong>CanPlayerViewInventory</strong></h3>
<p><em>(Alias for F1 menu usage.)</em><br />
Determines if a player is allowed to open/view their inventory from F1 menu.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerViewInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictInventoryAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">isInCombat</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent accessing inventory during combat</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="buildhelpmenu"><strong>BuildHelpMenu</strong></h3>
<p><strong>Description:</strong><br />
Called when the help menu is being built.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>tabs</code> (table): Contains help menu tabs.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;BuildHelpMenu&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddCustomHelpTab&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">tabs</span><span class="p">)</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">customTab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="w">    </span><span class="nv">customTab</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Custom Help&quot;</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">    </span><span class="nv">customTab</span><span class="p">.</span><span class="py">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;This is custom help content.&quot;</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">tabs</span><span class="p">,</span><span class="w"> </span><span class="nv">customTab</span><span class="p">)</span>
</span><span id="__span-99-6"><a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom help tab added.&quot;</span><span class="p">)</span>
</span><span id="__span-99-7"><a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="createmenubuttons"><strong>CreateMenuButtons</strong></h3>
<p><strong>Description:</strong><br />
Creates menu buttons for the F1 menu.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>tabs</code> (table)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CreateMenuButtons&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddSettingsButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">tabs</span><span class="p">)</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">tabs</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="w">        </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span>
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a><span class="w">        </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;icon16/cog.png&quot;</span><span class="p">,</span>
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="w">        </span><span class="nv">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">openSettings</span><span class="p">()</span>
</span><span id="__span-100-7"><a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-100-8"><a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-100-9"><a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Settings button added to F1 menu.&quot;</span><span class="p">)</span>
</span><span id="__span-100-10"><a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawammohud"><strong>ShouldDrawAmmoHUD</strong></h3>
<p><strong>Description:</strong><br />
Whether or not the ammo HUD should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>weapon</code> (Entity or table)</p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawAmmoHUD&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideAmmoHUDForSnipers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_sniper&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Hide ammo HUD for sniper rifles</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawcharinfo"><strong>ShouldDrawCharInfo</strong></h3>
<p><strong>Description:</strong><br />
Determines whether character info should be drawn for the given entity/character.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>character</code> (Character)
- <code>charInfo</code> (table)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawCharInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideSensitiveInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">charInfo</span><span class="p">)</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">hasFlag</span><span class="p">(</span><span class="s2">&quot;private&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Do not draw character info for private characters</span>
</span><span id="__span-102-4"><a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-102-5"><a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-102-6"><a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawentityinfo"><strong>ShouldDrawEntityInfo</strong></h3>
<p><strong>Description:</strong><br />
Determines whether entity info should be drawn for the given entity.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawEntityInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideInfoForProtectedEntities&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isProtected</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Do not draw info for protected entities</span>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-103-5"><a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-103-6"><a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawentityinfo"><strong>DrawEntityInfo</strong></h3>
<p><strong>Description:</strong><br />
Draws information about the given entity.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>alpha</code> (<code>float</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawEntityInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DisplayEntityHealth&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">alpha</span><span class="p">)</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isNPC</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">health</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">getHealth</span><span class="p">()</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Health: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">health</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">ToScreen</span><span class="p">().</span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">():</span><span class="nf">ToScreen</span><span class="p">().</span><span class="nv">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nv">alpha</span><span class="p">))</span>
</span><span id="__span-104-5"><a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-104-6"><a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawcrosshair-alias-1"><strong>DrawCrosshair (Alias 1)</strong></h3>
<p><strong>Description:</strong><br />
Draws the crosshair (if <code>ShouldDrawCrosshair</code> is <code>true</code>).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawCrosshair&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomCrosshair&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span>
</span><span id="__span-105-5"><a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-105-6"><a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom crosshair drawn.&quot;</span><span class="p">)</span>
</span><span id="__span-105-7"><a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawvignette"><strong>ShouldDrawVignette</strong></h3>
<p><strong>Description:</strong><br />
Determines whether the vignette effect should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawVignette&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ConditionalVignette&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-106-2"><a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">isInDarkArea</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-106-3"><a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Enable vignette in dark areas</span>
</span><span id="__span-106-4"><a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-106-5"><a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-106-6"><a id="__codelineno-106-6" name="__codelineno-106-6" href="#__codelineno-106-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawvignette"><strong>DrawVignette</strong></h3>
<p><strong>Description:</strong><br />
Draws the vignette effect.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawVignette&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomVignetteEffect&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-107-3"><a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">())</span>
</span><span id="__span-107-4"><a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vignette effect drawn.&quot;</span><span class="p">)</span>
</span><span id="__span-107-5"><a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawbranchwarning"><strong>ShouldDrawBranchWarning</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a branching path warning should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawBranchWarning&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ShowWarningForNewPlayers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-108-2"><a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">getLevel</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-108-3"><a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Show warning to new players</span>
</span><span id="__span-108-4"><a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-108-5"><a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-108-6"><a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawbranchwarning"><strong>DrawBranchWarning</strong></h3>
<p><strong>Description:</strong><br />
Draws a branching path warning.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawBranchWarning&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RenderBranchWarning&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Warning: You are on a risky path. Proceed with caution!&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DermaLarge&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Branch warning rendered.&quot;</span><span class="p">)</span>
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawblur"><strong>ShouldDrawBlur</strong></h3>
<p><strong>Description:</strong><br />
Determines whether the blur effect should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawBlur&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;EnableBlurInMenus&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">gui</span><span class="p">.</span><span class="nf">IsMenuVisible</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-110-3"><a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Enable blur when menus are open</span>
</span><span id="__span-110-4"><a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-110-5"><a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-110-6"><a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawblur"><strong>DrawBlur</strong></h3>
<p><strong>Description:</strong><br />
Draws the blur effect.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawBlur&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RenderBlurEffect&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">blur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">Material</span><span class="p">(</span><span class="s2">&quot;pp/blurscreen&quot;</span><span class="p">)</span>
</span><span id="__span-111-3"><a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetMaterial</span><span class="p">(</span><span class="nv">blur</span><span class="p">)</span>
</span><span id="__span-111-4"><a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-111-5"><a id="__codelineno-111-5" name="__codelineno-111-5" href="#__codelineno-111-5"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawTexturedRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">ScrW</span><span class="p">(),</span><span class="w"> </span><span class="nf">ScrH</span><span class="p">())</span>
</span><span id="__span-111-6"><a id="__codelineno-111-6" name="__codelineno-111-6" href="#__codelineno-111-6"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Blur effect rendered.&quot;</span><span class="p">)</span>
</span><span id="__span-111-7"><a id="__codelineno-111-7" name="__codelineno-111-7" href="#__codelineno-111-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddrawplayerinfo"><strong>ShouldDrawPlayerInfo</strong></h3>
<p><strong>Description:</strong><br />
Determines whether player information should be drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDrawPlayerInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ShowInfoOnlyForAdmins&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Only admins see player info</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-112-5"><a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-112-6"><a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="tooltipinitialize"><strong>TooltipInitialize</strong></h3>
<p><strong>Description:</strong><br />
Initializes the tooltip before it is displayed.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code> (tooltip panel)
- <code>targetPanel</code> (the panel for which the tooltip is displayed)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;TooltipInitialize&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomizeTooltip&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">,</span><span class="w"> </span><span class="nv">targetPanel</span><span class="p">)</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetSkin</span><span class="p">(</span><span class="s2">&quot;DarkSkin&quot;</span><span class="p">)</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="nv">panel</span><span class="p">:</span><span class="nf">SetFont</span><span class="p">(</span><span class="s2">&quot;TooltipFont&quot;</span><span class="p">)</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tooltip initialized for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">targetPanel</span><span class="p">:</span><span class="nf">GetName</span><span class="p">())</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="tooltippaint"><strong>TooltipPaint</strong></h3>
<p><strong>Description:</strong><br />
Handles painting of the tooltip.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code>
- <code>w</code>, <code>h</code> (width, height)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;TooltipPaint&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomTooltipAppearance&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetTooltipText</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;TooltipFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_LEFT</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_TOP</span><span class="p">)</span>
</span><span id="__span-114-5"><a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom tooltip painted.&quot;</span><span class="p">)</span>
</span><span id="__span-114-6"><a id="__codelineno-114-6" name="__codelineno-114-6" href="#__codelineno-114-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="tooltiplayout"><strong>TooltipLayout</strong></h3>
<p><strong>Description:</strong><br />
Handles layout of the tooltip.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;TooltipLayout&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ArrangeTooltipElements&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetChild</span><span class="p">(</span><span class="s2">&quot;TooltipText&quot;</span><span class="p">)</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="w">    </span><span class="nv">text</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="w">    </span><span class="nv">text</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetWide</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetTall</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tooltip elements arranged.&quot;</span><span class="p">)</span>
</span><span id="__span-115-6"><a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="adjustbluramount"><strong>AdjustBlurAmount</strong></h3>
<p><strong>Description:</strong><br />
Adjusts the amount of blur applied to the screen.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>blurGoal</code> (<code>int</code>)</p>
<p><strong>Returns:</strong><br />
- <code>number</code>: The adjusted blur amount.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AdjustBlurAmount&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;IncreaseBlurInRain&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">blurGoal</span><span class="p">)</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">weather</span><span class="p">.</span><span class="py">isRaining</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">blurGoal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">-- Increase blur during rain</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">blurGoal</span>
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="setupquickmenu"><strong>SetupQuickMenu</strong></h3>
<p><strong>Description:</strong><br />
Sets up the quick menu by adding buttons, sliders, etc. Called during the panels initialization.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code> (the quick menu panel)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;SetupQuickMenu&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddQuickSettingsButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">settingsButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="w">    </span><span class="nv">settingsButton</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Settings&quot;</span><span class="p">)</span>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="w">    </span><span class="nv">settingsButton</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-117-5"><a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a><span class="w">    </span><span class="nv">settingsButton</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-117-6"><a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a><span class="w">    </span><span class="nv">settingsButton</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-117-7"><a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">openSettings</span><span class="p">()</span>
</span><span id="__span-117-8"><a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-117-9"><a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Quick menu settings button added.&quot;</span><span class="p">)</span>
</span><span id="__span-117-10"><a id="__codelineno-117-10" name="__codelineno-117-10" href="#__codelineno-117-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawliliamodelview"><strong>DrawLiliaModelView</strong></h3>
<p><strong>Description:</strong><br />
Called to draw additional content within a model view panel.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code>
- <code>entity</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawLiliaModelView&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;EnhanceModelView&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="w">    </span><span class="nv">cam</span><span class="p">.</span><span class="nf">Start3D2D</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="nf">Angle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">EyeAngles</span><span class="p">().</span><span class="nv">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">),</span><span class="w"> </span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Item: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">getItemTable</span><span class="p">().</span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_TOP</span><span class="p">)</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="w">    </span><span class="nv">cam</span><span class="p">.</span><span class="nf">End3D2D</span><span class="p">()</span>
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Additional content drawn in model view for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">getItemTable</span><span class="p">().</span><span class="nv">name</span><span class="p">)</span>
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldshowplayeronscoreboard"><strong>ShouldShowPlayerOnScoreboard</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player should be shown on the scoreboard.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldShowPlayerOnScoreboard&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideSpectators&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-119-2"><a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isSpectator</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-119-3"><a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Hide spectators from the scoreboard</span>
</span><span id="__span-119-4"><a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-119-5"><a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-119-6"><a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="showplayeroptions"><strong>ShowPlayerOptions</strong></h3>
<p><strong>Description:</strong><br />
Provides options for the player context menu on the scoreboard.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>options</code> (table)<br />
  Each option is a table <code>{icon, callback}</code>.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShowPlayerOptions&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddReportOption&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">targetPlayer</span><span class="p">,</span><span class="w"> </span><span class="nv">options</span><span class="p">)</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a><span class="w">    </span><span class="nb">table.insert</span><span class="p">(</span><span class="nv">options</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="w">        </span><span class="nv">icon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;icon16/report.png&quot;</span><span class="p">,</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="w">        </span><span class="nv">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-120-5"><a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">openReportMenu</span><span class="p">(</span><span class="nv">targetPlayer</span><span class="p">)</span>
</span><span id="__span-120-6"><a id="__codelineno-120-6" name="__codelineno-120-6" href="#__codelineno-120-6"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-120-7"><a id="__codelineno-120-7" name="__codelineno-120-7" href="#__codelineno-120-7"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-120-8"><a id="__codelineno-120-8" name="__codelineno-120-8" href="#__codelineno-120-8"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Report option added to player context menu.&quot;</span><span class="p">)</span>
</span><span id="__span-120-9"><a id="__codelineno-120-9" name="__codelineno-120-9" href="#__codelineno-120-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shouldallowscoreboardoverride"><strong>ShouldAllowScoreboardOverride</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a scoreboard value should be overridden (e.g., name, desc).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>var</code> (<code>string</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code> (true if override)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldAllowScoreboardOverride&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomNameDisplay&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">var</span><span class="p">)</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasRole</span><span class="p">(</span><span class="s2">&quot;Admin&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Allow overriding the name for admins</span>
</span><span id="__span-121-4"><a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-121-5"><a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayeraccessdoor"><strong>CanPlayerAccessDoor</strong></h3>
<p><strong>Description:</strong><br />
Called when a player tries to use abilities on the door (locking, etc.).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>door</code> (<code>Entity</code>)
- <code>access</code> (<code>int</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerAccessDoor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictDoorAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">door</span><span class="p">,</span><span class="w"> </span><span class="nv">access</span><span class="p">)</span>
</span><span id="__span-122-2"><a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">access</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">DOOR_LOCK</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasPermission</span><span class="p">(</span><span class="s2">&quot;lock_doors&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-122-3"><a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Only players with lock permissions can lock doors</span>
</span><span id="__span-122-4"><a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-122-5"><a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-122-6"><a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onplayerpurchasedoor"><strong>OnPlayerPurchaseDoor</strong></h3>
<p><strong>Description:</strong><br />
Called when a player purchases or sells a door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>): The door
- <code>buying</code> (<code>bool</code>): True if buying, false if selling
- <code>CallOnDoorChild</code> (function)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnPlayerPurchaseDoor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleDoorPurchase&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">buying</span><span class="p">,</span><span class="w"> </span><span class="nv">CallOnDoorChild</span><span class="p">)</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">buying</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">deductMoney</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="nf">getPrice</span><span class="p">())</span>
</span><span id="__span-123-4"><a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;DoorPurchase&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; purchased door ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-123-5"><a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; purchased a door.&quot;</span><span class="p">)</span>
</span><span id="__span-123-6"><a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-123-7"><a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">addMoney</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="nf">getSellPrice</span><span class="p">())</span>
</span><span id="__span-123-8"><a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;DoorSale&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; sold door ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-123-9"><a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; sold a door.&quot;</span><span class="p">)</span>
</span><span id="__span-123-10"><a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-123-11"><a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a><span class="w">    </span><span class="nf">CallOnDoorChild</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-123-12"><a id="__codelineno-123-12" name="__codelineno-123-12" href="#__codelineno-123-12"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerusedoor"><strong>PlayerUseDoor</strong></h3>
<p><strong>Description:</strong><br />
Called when a player attempts to use a door entity.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: <code>false</code> to disallow, <code>true</code> to allow, or <code>nil</code> to let other hooks decide.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerUseDoor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogDoorUsage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-124-2"><a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; is attempting to use door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-124-3"><a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="w">    </span><span class="c1">-- Allow or disallow based on custom conditions</span>
</span><span id="__span-124-4"><a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isBanned</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-124-5"><a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Disallow use if the player is banned</span>
</span><span id="__span-124-6"><a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-124-7"><a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="keylock"><strong>KeyLock</strong></h3>
<p><strong>Description:</strong><br />
Called when a player attempts to lock a door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>owner</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)
- <code>time</code> (<code>float</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;KeyLock&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogDoorLock&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">owner</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="p">)</span>
</span><span id="__span-125-2"><a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">setLocked</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</span><span id="__span-125-3"><a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;DoorLock&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; locked door ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; for &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; seconds.&quot;</span><span class="p">)</span>
</span><span id="__span-125-4"><a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; locked door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;for&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;seconds.&quot;</span><span class="p">)</span>
</span><span id="__span-125-5"><a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="keyunlock"><strong>KeyUnlock</strong></h3>
<p><strong>Description:</strong><br />
Called when a player attempts to unlock a door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>owner</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)
- <code>time</code> (<code>float</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;KeyUnlock&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogDoorUnlock&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">owner</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="p">)</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="w">    </span><span class="nv">entity</span><span class="p">:</span><span class="nf">setLocked</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;DoorUnlock&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; unlocked door ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; after &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; seconds.&quot;</span><span class="p">)</span>
</span><span id="__span-126-4"><a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; unlocked door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;after&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">time</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;seconds.&quot;</span><span class="p">)</span>
</span><span id="__span-126-5"><a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="togglelock"><strong>ToggleLock</strong></h3>
<p><strong>Description:</strong><br />
Toggles the lock state of a door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>door</code> (<code>Entity</code>)
- <code>state</code> (<code>bool</code>): <code>true</code>=locked, <code>false</code>=unlocked</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ToggleLock&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleDoorLockToggle&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">door</span><span class="p">,</span><span class="w"> </span><span class="nv">state</span><span class="p">)</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="w">    </span><span class="nv">door</span><span class="p">:</span><span class="nf">setLocked</span><span class="p">(</span><span class="nv">state</span><span class="p">)</span>
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="s2">&quot;locked&quot;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;unlocked&quot;</span>
</span><span id="__span-127-4"><a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;DoorToggle&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; door ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">door</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-127-5"><a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">door</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-127-6"><a id="__codelineno-127-6" name="__codelineno-127-6" href="#__codelineno-127-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="callondoorchildren"><strong>callOnDoorChildren</strong></h3>
<p><strong>Description:</strong><br />
Calls a function on all child entities of a door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>callback</code> (function)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;callOnDoorChildren&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UpdateChildEntities&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">callback</span><span class="p">)</span>
</span><span id="__span-128-2"><a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">child</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetChildren</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-128-3"><a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="w">        </span><span class="nf">callback</span><span class="p">(</span><span class="nv">child</span><span class="p">)</span>
</span><span id="__span-128-4"><a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Callback executed on child entity ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">child</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-128-5"><a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-128-6"><a id="__codelineno-128-6" name="__codelineno-128-6" href="#__codelineno-128-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="copyparentdoor"><strong>copyParentDoor</strong></h3>
<p><strong>Description:</strong><br />
Copies the parent door's properties to a child door.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>child</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;copyParentDoor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SyncChildDoorProperties&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">child</span><span class="p">)</span>
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">child</span><span class="p">:</span><span class="nf">getParentDoor</span><span class="p">()</span>
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">parent</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-129-4"><a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a><span class="w">        </span><span class="nv">child</span><span class="p">:</span><span class="nf">setLocked</span><span class="p">(</span><span class="nv">parent</span><span class="p">:</span><span class="nf">isLocked</span><span class="p">())</span>
</span><span id="__span-129-5"><a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a><span class="w">        </span><span class="nv">child</span><span class="p">:</span><span class="nf">setOwner</span><span class="p">(</span><span class="nv">parent</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">())</span>
</span><span id="__span-129-6"><a id="__codelineno-129-6" name="__codelineno-129-6" href="#__codelineno-129-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Copied properties from parent door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">parent</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;to child door ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">child</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-129-7"><a id="__codelineno-129-7" name="__codelineno-129-7" href="#__codelineno-129-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-129-8"><a id="__codelineno-129-8" name="__codelineno-129-8" href="#__codelineno-129-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddeletesaveditems"><strong>ShouldDeleteSavedItems</strong></h3>
<p><strong>Description:</strong><br />
Determines if saved items should be deleted on server restart.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Returns:</strong><br />
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDeleteSavedItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ConditionalItemDeletion&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-130-2"><a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">config</span><span class="p">.</span><span class="py">resetItemsOnRestart</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-130-3"><a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Delete saved items on restart</span>
</span><span id="__span-130-4"><a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-130-5"><a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-130-6"><a id="__codelineno-130-6" name="__codelineno-130-6" href="#__codelineno-130-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onsaveditemloaded"><strong>OnSavedItemLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called after saved items are loaded from the database.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>loadedItems</code> (table): Contains loaded item entities.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnSavedItemLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeLoadedItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">loadedItems</span><span class="p">)</span>
</span><span id="__span-131-2"><a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">loadedItems</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-131-3"><a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a><span class="w">        </span><span class="nv">item</span><span class="p">:</span><span class="nf">initialize</span><span class="p">()</span>
</span><span id="__span-131-4"><a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded and initialized item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-131-5"><a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-131-6"><a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="shoulddisablethirdperson"><strong>ShouldDisableThirdperson</strong></h3>
<p><strong>Description:</strong><br />
Checks if third-person view is allowed or disabled.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code> (true if 3rd-person should be disabled)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ShouldDisableThirdperson&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DisableForInvisibles&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-132-2"><a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isInvisible</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-132-3"><a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Disable third-person view when invisible</span>
</span><span id="__span-132-4"><a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-132-5"><a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharattribboosted"><strong>OnCharAttribBoosted</strong></h3>
<p><strong>Description:</strong><br />
Called when a characters attribute is updated.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)
- <code>key</code> (<code>string</code>)
- <code>value</code> (<code>int</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharAttribBoosted&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyAttributeBoost&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-133-2"><a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a><span class="w">    </span><span class="nv">chat</span><span class="p">.</span><span class="nf">AddText</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Your &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; attribute has been increased by &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
</span><span id="__span-133-3"><a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;AttributeBoost&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;&#39;s &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; increased by &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</span><span id="__span-133-4"><a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attribute &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; boosted by &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; for character:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-133-5"><a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerstaminagained"><strong>PlayerStaminaGained</strong></h3>
<p><strong>Description:</strong><br />
Called when a player gains stamina.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerStaminaGained&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyStaminaGain&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-134-2"><a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You have regained stamina!&quot;</span><span class="p">)</span>
</span><span id="__span-134-3"><a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has gained stamina.&quot;</span><span class="p">)</span>
</span><span id="__span-134-4"><a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerstaminalost"><strong>PlayerStaminaLost</strong></h3>
<p><strong>Description:</strong><br />
Called when a player loses stamina.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerStaminaLost&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;WarnStaminaLow&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-135-2"><a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getStamina</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-135-3"><a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Warning: Your stamina is low!&quot;</span><span class="p">)</span>
</span><span id="__span-135-4"><a id="__codelineno-135-4" name="__codelineno-135-4" href="#__codelineno-135-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has low stamina.&quot;</span><span class="p">)</span>
</span><span id="__span-135-5"><a id="__codelineno-135-5" name="__codelineno-135-5" href="#__codelineno-135-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-135-6"><a id="__codelineno-135-6" name="__codelineno-135-6" href="#__codelineno-135-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerthrowpunch"><strong>CanPlayerThrowPunch</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can throw a punch.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerThrowPunch&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictPunchDuringStealth&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-136-2"><a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isStealthed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-136-3"><a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent punching while in stealth mode</span>
</span><span id="__span-136-4"><a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-136-5"><a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-136-6"><a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="adjuststaminaoffsetrunning"><strong>AdjustStaminaOffsetRunning</strong></h3>
<p><strong>Description:</strong><br />
Adjusts stamina offset when a player is running.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>offset</code> (<code>float</code>)</p>
<p><strong>Returns:</strong>
- <code>number</code>: The modified offset</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AdjustStaminaOffsetRunning&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;IncreaseStaminaDrainForHeavyGear&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="p">)</span>
</span><span id="__span-137-2"><a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasHeavyGear</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-137-3"><a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">-- Increase stamina drain by 5 when running with heavy gear</span>
</span><span id="__span-137-4"><a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-137-5"><a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span>
</span><span id="__span-137-6"><a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="adjuststaminaregeneration"><strong>AdjustStaminaRegeneration</strong></h3>
<p><strong>Description:</strong><br />
Adjusts the rate at which a player regenerates stamina.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>offset</code> (<code>float</code>)</p>
<p><strong>Returns:</strong>
- <code>number</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AdjustStaminaRegeneration&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BoostRegenerationForMedics&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="p">)</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_MEDIC</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c1">-- Medics regenerate stamina faster</span>
</span><span id="__span-138-4"><a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-138-5"><a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span>
</span><span id="__span-138-6"><a id="__codelineno-138-6" name="__codelineno-138-6" href="#__codelineno-138-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="adjuststaminaoffset"><strong>AdjustStaminaOffset</strong></h3>
<p><strong>Description:</strong><br />
Adjusts the stamina offset otherwise (generic hook).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>offset</code> (<code>float</code>)</p>
<p><strong>Returns:</strong>
- <code>number</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AdjustStaminaOffset&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ModifyStaminaForNightMode&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="p">)</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">time</span><span class="p">.</span><span class="nf">isNight</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">-- Decrease stamina during night</span>
</span><span id="__span-139-4"><a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-139-5"><a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">offset</span>
</span><span id="__span-139-6"><a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="calcstaminachange"><strong>CalcStaminaChange</strong></h3>
<p><strong>Description:</strong><br />
Calculates the change in a players stamina (positive or negative).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>number</code> (the stamina change)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CalcStaminaChange&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;StaminaChangeBasedOnSpeed&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-140-2"><a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getVelocity</span><span class="p">():</span><span class="nf">Length</span><span class="p">()</span>
</span><span id="__span-140-3"><a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-4"><a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="c1">-- Decrease stamina quickly when moving fast</span>
</span><span id="__span-140-5"><a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-140-6"><a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="w"> </span><span class="c1">-- Moderate stamina decrease</span>
</span><span id="__span-140-7"><a id="__codelineno-140-7" name="__codelineno-140-7" href="#__codelineno-140-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-140-8"><a id="__codelineno-140-8" name="__codelineno-140-8" href="#__codelineno-140-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c1">-- Regenerate stamina slowly</span>
</span><span id="__span-140-9"><a id="__codelineno-140-9" name="__codelineno-140-9" href="#__codelineno-140-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-140-10"><a id="__codelineno-140-10" name="__codelineno-140-10" href="#__codelineno-140-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerviewattributes"><strong>CanPlayerViewAttributes</strong></h3>
<p><strong>Description:</strong><br />
Checks if a player is allowed to view their attributes.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerViewAttributes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictAttributeViewForLockedCharacters&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">isLocked</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent viewing attributes if character is locked</span>
</span><span id="__span-141-4"><a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-141-5"><a id="__codelineno-141-5" name="__codelineno-141-5" href="#__codelineno-141-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-141-6"><a id="__codelineno-141-6" name="__codelineno-141-6" href="#__codelineno-141-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getstartattribpoints"><strong>GetStartAttribPoints</strong></h3>
<p><strong>Description:</strong><br />
Retrieves the initial number of attribute points a player starts with.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>context</code> (table)</p>
<p><strong>Returns:</strong>
- <code>number</code>: The starting attribute points</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetStartAttribPoints&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BonusPointsForVeterans&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-142-2"><a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isVeteran</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-142-3"><a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c1">-- Give veterans 10 extra attribute points</span>
</span><span id="__span-142-4"><a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-142-5"><a id="__codelineno-142-5" name="__codelineno-142-5" href="#__codelineno-142-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">-- Default starting points</span>
</span><span id="__span-142-6"><a id="__codelineno-142-6" name="__codelineno-142-6" href="#__codelineno-142-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playercanpickupitem-attributes"><strong>PlayerCanPickupItem (Attributes)</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can pick up an item with their hands.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (Item)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerCanPickupItem&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventPickupOfCursedItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-143-2"><a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isCursed</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isBlessed</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-143-3"><a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent pickup of cursed items unless player is blessed</span>
</span><span id="__span-143-4"><a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-143-5"><a id="__codelineno-143-5" name="__codelineno-143-5" href="#__codelineno-143-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-143-6"><a id="__codelineno-143-6" name="__codelineno-143-6" href="#__codelineno-143-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charmaxstamina"><strong>CharMaxStamina</strong></h3>
<p><strong>Description:</strong><br />
Determines the maximum stamina for a character.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)</p>
<p><strong>Returns:</strong>
- <code>number</code>: The maximum stamina</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharMaxStamina&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetMaxStaminaBasedOnClass&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-144-2"><a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getClass</span><span class="p">()</span>
</span><span id="__span-144-3"><a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_WARRIOR</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-144-4"><a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">150</span>
</span><span id="__span-144-5"><a id="__codelineno-144-5" name="__codelineno-144-5" href="#__codelineno-144-5"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">CLASS_ROGUE</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-144-6"><a id="__codelineno-144-6" name="__codelineno-144-6" href="#__codelineno-144-6"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-144-7"><a id="__codelineno-144-7" name="__codelineno-144-7" href="#__codelineno-144-7"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-144-8"><a id="__codelineno-144-8" name="__codelineno-144-8" href="#__codelineno-144-8"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">120</span>
</span><span id="__span-144-9"><a id="__codelineno-144-9" name="__codelineno-144-9" href="#__codelineno-144-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-144-10"><a id="__codelineno-144-10" name="__codelineno-144-10" href="#__codelineno-144-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postdrawinventory-inventory"><strong>PostDrawInventory (Inventory)</strong></h3>
<p><strong>Description:</strong><br />
Called after the player's inventory is drawn.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>panel</code> (inventory panel)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostDrawInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddInventoryFooter&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">panel</span><span class="p">)</span>
</span><span id="__span-145-2"><a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;End of Inventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetWide</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">panel</span><span class="p">:</span><span class="nf">GetTall</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_TOP</span><span class="p">)</span>
</span><span id="__span-145-3"><a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory footer added.&quot;</span><span class="p">)</span>
</span><span id="__span-145-4"><a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="interceptclickitemicon"><strong>InterceptClickItemIcon</strong></h3>
<p><strong>Description:</strong><br />
Called when a player clicks on an item icon.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>self</code> (panel)
- <code>itemIcon</code> (panel)
- <code>keyCode</code> (int)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;InterceptClickItemIcon&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleItemDoubleClick&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">itemIcon</span><span class="p">,</span><span class="w"> </span><span class="nv">keyCode</span><span class="p">)</span>
</span><span id="__span-146-2"><a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">keyCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">KEY_MOUSE2</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="c1">-- Right-click</span>
</span><span id="__span-146-3"><a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">itemIcon</span><span class="p">:</span><span class="nf">getItem</span><span class="p">()</span>
</span><span id="__span-146-4"><a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">openItemContextMenu</span><span class="p">(</span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="nv">itemIcon</span><span class="p">:</span><span class="nf">GetPos</span><span class="p">())</span>
</span><span id="__span-146-5"><a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Item context menu opened for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-146-6"><a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-146-7"><a id="__codelineno-146-7" name="__codelineno-146-7" href="#__codelineno-146-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onrequestitemtransfer"><strong>OnRequestItemTransfer</strong></h3>
<p><strong>Description:</strong><br />
Called when an item transfer is requested (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>self</code> (panel)
- <code>itemID</code> (int)
- <code>inventoryID</code> (int)
- <code>x</code> (int)
- <code>y</code> (int)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnRequestItemTransfer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SendTransferRequest&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">itemID</span><span class="p">,</span><span class="w"> </span><span class="nv">inventoryID</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span>
</span><span id="__span-147-2"><a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">netstream</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;TransferItem&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">itemID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">itemID</span><span class="p">,</span><span class="w"> </span><span class="nv">inventoryID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">inventoryID</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="p">})</span>
</span><span id="__span-147-3"><a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer request sent for item ID:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemID</span><span class="p">)</span>
</span><span id="__span-147-4"><a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="itempaintover"><strong>ItemPaintOver</strong></h3>
<p><strong>Description:</strong><br />
Called when an item is being painted over in the inventory.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>self</code> (panel)
- <code>itemTable</code> (table)
- <code>w</code> (int)
- <code>h</code> (int)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ItemPaintOver&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DisplayItemRarity&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-148-2"><a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">rarity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;rare&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-148-3"><a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a><span class="w">        </span><span class="nv">surface</span><span class="p">.</span><span class="nf">SetDrawColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span><span class="w"> </span><span class="c1">-- Gold color</span>
</span><span id="__span-148-4"><a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="w">        </span><span class="nv">surface</span><span class="p">.</span><span class="nf">DrawOutlinedRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-148-5"><a id="__codelineno-148-5" name="__codelineno-148-5" href="#__codelineno-148-5"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Rare&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DefaultSmall&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">)</span>
</span><span id="__span-148-6"><a id="__codelineno-148-6" name="__codelineno-148-6" href="#__codelineno-148-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-148-7"><a id="__codelineno-148-7" name="__codelineno-148-7" href="#__codelineno-148-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncreateiteminteractionmenu"><strong>OnCreateItemInteractionMenu</strong></h3>
<p><strong>Description:</strong><br />
Called when an item interaction menu is created (e.g., right-click menu).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>self</code> (panel)
- <code>menu</code> (panel)
- <code>itemTable</code> (table)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCreateItemInteractionMenu&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddCustomActions&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">menu</span><span class="p">,</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">)</span>
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;magic_scroll&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="w">        </span><span class="nv">menu</span><span class="p">:</span><span class="nf">AddOption</span><span class="p">(</span><span class="s2">&quot;Cast Spell&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-149-4"><a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="w">            </span><span class="nv">lia</span><span class="p">.</span><span class="py">netstream</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;CastSpell&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">id</span><span class="p">)</span>
</span><span id="__span-149-5"><a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a><span class="w">        </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-149-6"><a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-149-7"><a id="__codelineno-149-7" name="__codelineno-149-7" href="#__codelineno-149-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom actions added to interaction menu for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-149-8"><a id="__codelineno-149-8" name="__codelineno-149-8" href="#__codelineno-149-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canrunitemaction"><strong>CanRunItemAction</strong></h3>
<p><strong>Description:</strong><br />
Determines if a specific action can be run on an item.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>itemTable</code> (table)
- <code>action</code> (string)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanRunItemAction&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictActionForCursedItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">itemTable</span><span class="p">,</span><span class="w"> </span><span class="nv">action</span><span class="p">)</span>
</span><span id="__span-150-2"><a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">itemTable</span><span class="p">.</span><span class="py">isCursed</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">action</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;use&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-150-3"><a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent using cursed items</span>
</span><span id="__span-150-4"><a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-150-5"><a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-150-6"><a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canitembetransfered"><strong>CanItemBeTransfered</strong></h3>
<p><strong>Description:</strong><br />
Determines whether an item can be transferred between inventories.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>item</code> (Item)
- <code>currentInv</code> (Inventory)
- <code>oldInv</code> (Inventory)</p>
<p><strong>Returns:</strong>
- <code>bool|string</code>: <code>true</code> to allow, or <code>false</code>/string for disallowed &amp; reason.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanItemBeTransfered&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventTransferOfBoundItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">item</span><span class="p">,</span><span class="w"> </span><span class="nv">currentInv</span><span class="p">,</span><span class="w"> </span><span class="nv">oldInv</span><span class="p">)</span>
</span><span id="__span-151-2"><a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">:</span><span class="nf">isBound</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">currentInv</span><span class="p">:</span><span class="nf">isBoundToOwner</span><span class="p">(</span><span class="nv">item</span><span class="p">.</span><span class="py">owner</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-151-3"><a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;This item is bound to another player and cannot be transferred.&quot;</span>
</span><span id="__span-151-4"><a id="__codelineno-151-4" name="__codelineno-151-4" href="#__codelineno-151-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-151-5"><a id="__codelineno-151-5" name="__codelineno-151-5" href="#__codelineno-151-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-151-6"><a id="__codelineno-151-6" name="__codelineno-151-6" href="#__codelineno-151-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="itemdraggedoutofinventory"><strong>ItemDraggedOutOfInventory</strong></h3>
<p><strong>Description:</strong><br />
Called when an item is dragged out of an inventory.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>item</code> (Item)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ItemDraggedOutOfInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogItemDrag&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-152-2"><a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;ItemDrag&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; dragged item ID &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">id</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; out of inventory.&quot;</span><span class="p">)</span>
</span><span id="__span-152-3"><a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has dragged out item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">)</span>
</span><span id="__span-152-4"><a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="itemtransfered"><strong>ItemTransfered</strong></h3>
<p><strong>Description:</strong><br />
Called when an item is transferred between inventories.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>context</code> (table)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;ItemTransfered&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;TrackItemTransfers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">context</span><span class="p">)</span>
</span><span id="__span-153-2"><a id="__codelineno-153-2" name="__codelineno-153-2" href="#__codelineno-153-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">client</span>
</span><span id="__span-153-3"><a id="__codelineno-153-3" name="__codelineno-153-3" href="#__codelineno-153-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">item</span>
</span><span id="__span-153-4"><a id="__codelineno-153-4" name="__codelineno-153-4" href="#__codelineno-153-4"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">fromInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">fromInv</span>
</span><span id="__span-153-5"><a id="__codelineno-153-5" name="__codelineno-153-5" href="#__codelineno-153-5"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">toInv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">context</span><span class="p">.</span><span class="py">toInv</span>
</span><span id="__span-153-6"><a id="__codelineno-153-6" name="__codelineno-153-6" href="#__codelineno-153-6"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;ItemTransfer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; transferred item &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; from &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">fromInv</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; to &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">toInv</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-153-7"><a id="__codelineno-153-7" name="__codelineno-153-7" href="#__codelineno-153-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; transferred item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">name</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;from&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">fromInv</span><span class="p">:</span><span class="nf">getName</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;to&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">toInv</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-153-8"><a id="__codelineno-153-8" name="__codelineno-153-8" href="#__codelineno-153-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="onplayerloststackitem"><strong>OnPlayerLostStackItem</strong></h3>
<p><strong>Description:</strong><br />
Called when a player drops a stackable item.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>itemTypeOrItem</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnPlayerLostStackItem&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleStackItemDrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">itemTypeOrItem</span><span class="p">)</span>
</span><span id="__span-154-2"><a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">itemName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">itemTypeOrItem</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">itemTypeOrItem</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;Unknown Item&quot;</span>
</span><span id="__span-154-3"><a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;StackItemDrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;A stackable item was dropped: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">itemName</span><span class="p">)</span>
</span><span id="__span-154-4"><a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Player dropped a stackable item:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">itemName</span><span class="p">)</span>
</span><span id="__span-154-5"><a id="__codelineno-154-5" name="__codelineno-154-5" href="#__codelineno-154-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerspawnstorage"><strong>CanPlayerSpawnStorage</strong></h3>
<p><strong>Description:</strong><br />
Whether a player is allowed to spawn a container entity.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>entity</code> (<code>Entity</code>)
- <code>data</code> (table)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerSpawnStorage&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictStorageSpawn&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">)</span>
</span><span id="__span-155-2"><a id="__codelineno-155-2" name="__codelineno-155-2" href="#__codelineno-155-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getLevel</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-155-3"><a id="__codelineno-155-3" name="__codelineno-155-3" href="#__codelineno-155-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You need to be at least level 10 to spawn storage containers.&quot;</span><span class="p">)</span>
</span><span id="__span-155-4"><a id="__codelineno-155-4" name="__codelineno-155-4" href="#__codelineno-155-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-155-5"><a id="__codelineno-155-5" name="__codelineno-155-5" href="#__codelineno-155-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-155-6"><a id="__codelineno-155-6" name="__codelineno-155-6" href="#__codelineno-155-6"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-155-7"><a id="__codelineno-155-7" name="__codelineno-155-7" href="#__codelineno-155-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="issuitablefortrunk"><strong>isSuitableForTrunk</strong></h3>
<p><strong>Description:</strong><br />
Determines whether an entity is suitable for use as storage (e.g., a trunk).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;isSuitableForTrunk&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AllowOnlyCars&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-156-2"><a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">IsVehicle</span><span class="p">()</span><span class="w"> </span><span class="c1">-- Only vehicles are suitable for trunks</span>
</span><span id="__span-156-3"><a id="__codelineno-156-3" name="__codelineno-156-3" href="#__codelineno-156-3"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncreatestoragepanel"><strong>OnCreateStoragePanel</strong></h3>
<p><strong>Description:</strong><br />
Called when a storage panel is created (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>localInvPanel</code> (panel)
- <code>storageInvPanel</code> (panel)
- <code>storage</code> (entity)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCreateStoragePanel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomizeStorageUI&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">localInvPanel</span><span class="p">,</span><span class="w"> </span><span class="nv">storageInvPanel</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="p">)</span>
</span><span id="__span-157-2"><a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a><span class="w">    </span><span class="nv">storageInvPanel</span><span class="p">:</span><span class="nf">SetBackgroundColor</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">))</span>
</span><span id="__span-157-3"><a id="__codelineno-157-3" name="__codelineno-157-3" href="#__codelineno-157-3"></a><span class="w">    </span><span class="nv">storageInvPanel</span><span class="p">.</span><span class="py">Paint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">self</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">)</span>
</span><span id="__span-157-4"><a id="__codelineno-157-4" name="__codelineno-157-4" href="#__codelineno-157-4"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">RoundedBox</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="p">,</span><span class="w"> </span><span class="nv">h</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">))</span>
</span><span id="__span-157-5"><a id="__codelineno-157-5" name="__codelineno-157-5" href="#__codelineno-157-5"></a><span class="w">        </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Storage Contents&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DermaLarge&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">w</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="nv">TEXT_ALIGN_CENTER</span><span class="p">,</span><span class="w"> </span><span class="nv">TEXT_ALIGN_TOP</span><span class="p">)</span>
</span><span id="__span-157-6"><a id="__codelineno-157-6" name="__codelineno-157-6" href="#__codelineno-157-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-157-7"><a id="__codelineno-157-7" name="__codelineno-157-7" href="#__codelineno-157-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage panel customized for entity:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-157-8"><a id="__codelineno-157-8" name="__codelineno-157-8" href="#__codelineno-157-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="cansavedata"><strong>CanSaveData</strong></h3>
<p><strong>Description:</strong><br />
Determines whether data associated with a storage entity should be saved.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>inventory</code> (Inventory)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanSaveData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ExcludeTemporaryStorages&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-158-2"><a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">isTemporary</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-158-3"><a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Do not save data for temporary storage entities</span>
</span><span id="__span-158-4"><a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-158-5"><a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-158-6"><a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storagerestored"><strong>StorageRestored</strong></h3>
<p><strong>Description:</strong><br />
Called when a storage entity is restored.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>storage</code> (<code>Entity</code>)
- <code>inventory</code> (Inventory)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageRestored&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ReinitializeStorage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">storage</span><span class="p">,</span><span class="w"> </span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-159-2"><a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a><span class="w">    </span><span class="nv">storage</span><span class="p">:</span><span class="nf">setOwner</span><span class="p">(</span><span class="nv">inventory</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">())</span>
</span><span id="__span-159-3"><a id="__codelineno-159-3" name="__codelineno-159-3" href="#__codelineno-159-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage entity restored and owner set for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-159-4"><a id="__codelineno-159-4" name="__codelineno-159-4" href="#__codelineno-159-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storageopen"><strong>StorageOpen</strong></h3>
<p><strong>Description:</strong><br />
Called when a storage is opened (car trunk or other).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>isCar</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-160-1"><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageOpen&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogStorageAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">isCar</span><span class="p">)</span>
</span><span id="__span-160-2"><a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">isCar</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-160-3"><a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Car trunk opened:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetModel</span><span class="p">())</span>
</span><span id="__span-160-4"><a id="__codelineno-160-4" name="__codelineno-160-4" href="#__codelineno-160-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-160-5"><a id="__codelineno-160-5" name="__codelineno-160-5" href="#__codelineno-160-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage container opened:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-160-6"><a id="__codelineno-160-6" name="__codelineno-160-6" href="#__codelineno-160-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-160-7"><a id="__codelineno-160-7" name="__codelineno-160-7" href="#__codelineno-160-7"></a><span class="w">    </span><span class="c1">-- Apply access rules or permissions</span>
</span><span id="__span-160-8"><a id="__codelineno-160-8" name="__codelineno-160-8" href="#__codelineno-160-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storageunlockprompt"><strong>StorageUnlockPrompt</strong></h3>
<p><strong>Description:</strong><br />
Called when a prompt to unlock storage is displayed (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-161-1"><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageUnlockPrompt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomizeUnlockPrompt&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">)</span>
</span><span id="__span-161-2"><a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">prompt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DFrame&quot;</span><span class="p">)</span>
</span><span id="__span-161-3"><a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="w">    </span><span class="nv">prompt</span><span class="p">:</span><span class="nf">SetTitle</span><span class="p">(</span><span class="s2">&quot;Unlock Storage&quot;</span><span class="p">)</span>
</span><span id="__span-161-4"><a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="w">    </span><span class="nv">prompt</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)</span>
</span><span id="__span-161-5"><a id="__codelineno-161-5" name="__codelineno-161-5" href="#__codelineno-161-5"></a><span class="w">    </span><span class="nv">prompt</span><span class="p">:</span><span class="nf">Center</span><span class="p">()</span>
</span><span id="__span-161-6"><a id="__codelineno-161-6" name="__codelineno-161-6" href="#__codelineno-161-6"></a><span class="w">    </span><span class="nv">prompt</span><span class="p">:</span><span class="nf">MakePopup</span><span class="p">()</span>
</span><span id="__span-161-7"><a id="__codelineno-161-7" name="__codelineno-161-7" href="#__codelineno-161-7"></a>
</span><span id="__span-161-8"><a id="__codelineno-161-8" name="__codelineno-161-8" href="#__codelineno-161-8"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">passwordBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DTextEntry&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">prompt</span><span class="p">)</span>
</span><span id="__span-161-9"><a id="__codelineno-161-9" name="__codelineno-161-9" href="#__codelineno-161-9"></a><span class="w">    </span><span class="nv">passwordBox</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-161-10"><a id="__codelineno-161-10" name="__codelineno-161-10" href="#__codelineno-161-10"></a><span class="w">    </span><span class="nv">passwordBox</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-161-11"><a id="__codelineno-161-11" name="__codelineno-161-11" href="#__codelineno-161-11"></a><span class="w">    </span><span class="nv">passwordBox</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Enter Password&quot;</span><span class="p">)</span>
</span><span id="__span-161-12"><a id="__codelineno-161-12" name="__codelineno-161-12" href="#__codelineno-161-12"></a>
</span><span id="__span-161-13"><a id="__codelineno-161-13" name="__codelineno-161-13" href="#__codelineno-161-13"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">unlockButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vgui</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;DButton&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">prompt</span><span class="p">)</span>
</span><span id="__span-161-14"><a id="__codelineno-161-14" name="__codelineno-161-14" href="#__codelineno-161-14"></a><span class="w">    </span><span class="nv">unlockButton</span><span class="p">:</span><span class="nf">SetText</span><span class="p">(</span><span class="s2">&quot;Unlock&quot;</span><span class="p">)</span>
</span><span id="__span-161-15"><a id="__codelineno-161-15" name="__codelineno-161-15" href="#__codelineno-161-15"></a><span class="w">    </span><span class="nv">unlockButton</span><span class="p">:</span><span class="nf">SetPos</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-161-16"><a id="__codelineno-161-16" name="__codelineno-161-16" href="#__codelineno-161-16"></a><span class="w">    </span><span class="nv">unlockButton</span><span class="p">:</span><span class="nf">SetSize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-161-17"><a id="__codelineno-161-17" name="__codelineno-161-17" href="#__codelineno-161-17"></a><span class="w">    </span><span class="nv">unlockButton</span><span class="p">.</span><span class="py">DoClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-161-18"><a id="__codelineno-161-18" name="__codelineno-161-18" href="#__codelineno-161-18"></a><span class="w">        </span><span class="kd">local</span><span class="w"> </span><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">passwordBox</span><span class="p">:</span><span class="nf">GetValue</span><span class="p">()</span>
</span><span id="__span-161-19"><a id="__codelineno-161-19" name="__codelineno-161-19" href="#__codelineno-161-19"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">netstream</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s2">&quot;AttemptStorageUnlock&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">password</span><span class="p">)</span>
</span><span id="__span-161-20"><a id="__codelineno-161-20" name="__codelineno-161-20" href="#__codelineno-161-20"></a><span class="w">        </span><span class="nv">prompt</span><span class="p">:</span><span class="nf">Close</span><span class="p">()</span>
</span><span id="__span-161-21"><a id="__codelineno-161-21" name="__codelineno-161-21" href="#__codelineno-161-21"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-161-22"><a id="__codelineno-161-22" name="__codelineno-161-22" href="#__codelineno-161-22"></a>
</span><span id="__span-161-23"><a id="__codelineno-161-23" name="__codelineno-161-23" href="#__codelineno-161-23"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage unlock prompt displayed for entity:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-161-24"><a id="__codelineno-161-24" name="__codelineno-161-24" href="#__codelineno-161-24"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storagecantransferitem"><strong>StorageCanTransferItem</strong></h3>
<p><strong>Description:</strong><br />
Determines whether a player can transfer an item into storage.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>storage</code> (<code>Entity</code>)
- <code>item</code> (Item)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-162-1"><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageCanTransferItem&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictItemTypesInStorage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">storage</span><span class="p">,</span><span class="w"> </span><span class="nv">item</span><span class="p">)</span>
</span><span id="__span-162-2"><a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">item</span><span class="p">.</span><span class="py">category</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Weapon&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">hasPermission</span><span class="p">(</span><span class="s2">&quot;store_weapons&quot;</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-162-3"><a id="__codelineno-162-3" name="__codelineno-162-3" href="#__codelineno-162-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent storing weapons unless player has permission</span>
</span><span id="__span-162-4"><a id="__codelineno-162-4" name="__codelineno-162-4" href="#__codelineno-162-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-162-5"><a id="__codelineno-162-5" name="__codelineno-162-5" href="#__codelineno-162-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-162-6"><a id="__codelineno-162-6" name="__codelineno-162-6" href="#__codelineno-162-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storageentityremoved"><strong>StorageEntityRemoved</strong></h3>
<p><strong>Description:</strong><br />
Called when a storage entity is removed.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>inventory</code> (Inventory)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-163-1"><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageEntityRemoved&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HandleStorageRemoval&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">inventory</span><span class="p">)</span>
</span><span id="__span-163-2"><a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">data</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="s2">&quot;storage_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-163-3"><a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage entity removed and data cleaned for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-163-4"><a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="storageinventoryset"><strong>StorageInventorySet</strong></h3>
<p><strong>Description:</strong><br />
Called when the inventory of a storage entity is set.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>inventory</code> (Inventory)
- <code>isInitial</code> (<code>bool</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-164-1"><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;StorageInventorySet&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeStorageInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">inventory</span><span class="p">,</span><span class="w"> </span><span class="nv">isInitial</span><span class="p">)</span>
</span><span id="__span-164-2"><a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">isInitial</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-164-3"><a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a><span class="w">        </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">setOwner</span><span class="p">(</span><span class="nv">entity</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">())</span>
</span><span id="__span-164-4"><a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;StorageInventorySet&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Initial inventory set for storage ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-164-5"><a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial inventory set for storage:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-164-6"><a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-164-7"><a id="__codelineno-164-7" name="__codelineno-164-7" href="#__codelineno-164-7"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;StorageInventorySet&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Inventory updated for storage ID: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">EntIndex</span><span class="p">())</span>
</span><span id="__span-164-8"><a id="__codelineno-164-8" name="__codelineno-164-8" href="#__codelineno-164-8"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inventory updated for storage:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-164-9"><a id="__codelineno-164-9" name="__codelineno-164-9" href="#__codelineno-164-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-164-10"><a id="__codelineno-164-10" name="__codelineno-164-10" href="#__codelineno-164-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="ischarrecognized"><strong>isCharRecognized</strong></h3>
<p><strong>Description:</strong><br />
Checks if a character is recognized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)
- <code>id</code> (int)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-165-1"><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;isCharRecognized&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ValidateCharacterRecognition&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-165-2"><a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getID</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">isActive</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-165-3"><a id="__codelineno-165-3" name="__codelineno-165-3" href="#__codelineno-165-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-165-4"><a id="__codelineno-165-4" name="__codelineno-165-4" href="#__codelineno-165-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-165-5"><a id="__codelineno-165-5" name="__codelineno-165-5" href="#__codelineno-165-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-165-6"><a id="__codelineno-165-6" name="__codelineno-165-6" href="#__codelineno-165-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="ischarfakerecognized"><strong>isCharFakeRecognized</strong></h3>
<p><strong>Description:</strong><br />
Checks if a character is <em>fake</em> recognized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)
- <code>id</code> (int)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-166-1"><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;isCharFakeRecognized&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DetectFakeCharacters&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-166-2"><a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">isSuspicious</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-166-3"><a id="__codelineno-166-3" name="__codelineno-166-3" href="#__codelineno-166-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Character is fake</span>
</span><span id="__span-166-4"><a id="__codelineno-166-4" name="__codelineno-166-4" href="#__codelineno-166-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-166-5"><a id="__codelineno-166-5" name="__codelineno-166-5" href="#__codelineno-166-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-166-6"><a id="__codelineno-166-6" name="__codelineno-166-6" href="#__codelineno-166-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="isfakenameexistant"><strong>isFakeNameExistant</strong></h3>
<p><strong>Description:</strong><br />
Checks if a fake name exists in a given name list.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>name</code> (string)
- <code>nameList</code> (table)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-167-1"><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;isFakeNameExistant&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventDuplicateFakeNames&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">nameList</span><span class="p">)</span>
</span><span id="__span-167-2"><a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">existingName</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">nameList</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-167-3"><a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nb">string.lower</span><span class="p">(</span><span class="nv">existingName</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">string.lower</span><span class="p">(</span><span class="nv">name</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-167-4"><a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-167-5"><a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-167-6"><a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-167-7"><a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-167-8"><a id="__codelineno-167-8" name="__codelineno-167-8" href="#__codelineno-167-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharrecognized"><strong>OnCharRecognized</strong></h3>
<p><strong>Description:</strong><br />
Called when a character is recognized.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>id</code> (int)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-168-1"><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharRecognized&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;WelcomeRecognizedCharacter&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-168-2"><a id="__codelineno-168-2" name="__codelineno-168-2" href="#__codelineno-168-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">character</span><span class="p">.</span><span class="nf">getByID</span><span class="p">(</span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-168-3"><a id="__codelineno-168-3" name="__codelineno-168-3" href="#__codelineno-168-3"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-168-4"><a id="__codelineno-168-4" name="__codelineno-168-4" href="#__codelineno-168-4"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Welcome back, &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
</span><span id="__span-168-5"><a id="__codelineno-168-5" name="__codelineno-168-5" href="#__codelineno-168-5"></a><span class="w">        </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Character recognized: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">(),</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span id="__span-168-6"><a id="__codelineno-168-6" name="__codelineno-168-6" href="#__codelineno-168-6"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character recognized for client:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-168-7"><a id="__codelineno-168-7" name="__codelineno-168-7" href="#__codelineno-168-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-168-8"><a id="__codelineno-168-8" name="__codelineno-168-8" href="#__codelineno-168-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charrecognize"><strong>CharRecognize</strong></h3>
<p><strong>Description:</strong><br />
Initiates a character recognition process (client side).</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>level</code> (int)
- <code>name</code> (string)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-169-1"><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharRecognize&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;StartRecognitionProcess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">level</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span>
</span><span id="__span-169-2"><a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">recognitionPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">createRecognitionPanel</span><span class="p">(</span><span class="nv">level</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span>
</span><span id="__span-169-3"><a id="__codelineno-169-3" name="__codelineno-169-3" href="#__codelineno-169-3"></a><span class="w">    </span><span class="nv">recognitionPanel</span><span class="p">:</span><span class="nf">open</span><span class="p">()</span>
</span><span id="__span-169-4"><a id="__codelineno-169-4" name="__codelineno-169-4" href="#__codelineno-169-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recognition process started for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;at level:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">level</span><span class="p">)</span>
</span><span id="__span-169-5"><a id="__codelineno-169-5" name="__codelineno-169-5" href="#__codelineno-169-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getdisplayeddescription"><strong>GetDisplayedDescription</strong></h3>
<p><strong>Description:</strong><br />
Retrieves the displayed description of an entity (HUD or otherwise).</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>)
- <code>isHUD</code> (<code>bool</code>)</p>
<p><strong>Returns:</strong>
- <code>string</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-170-1"><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetDisplayedDescription&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomEntityDescription&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">isHUD</span><span class="p">)</span>
</span><span id="__span-170-2"><a id="__codelineno-170-2" name="__codelineno-170-2" href="#__codelineno-170-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">entity</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;npc_boss&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-170-3"><a id="__codelineno-170-3" name="__codelineno-170-3" href="#__codelineno-170-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;The formidable boss of the region. Handle with care.&quot;</span>
</span><span id="__span-170-4"><a id="__codelineno-170-4" name="__codelineno-170-4" href="#__codelineno-170-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-170-5"><a id="__codelineno-170-5" name="__codelineno-170-5" href="#__codelineno-170-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getdisplayedname-recognition"><strong>GetDisplayedName (Recognition)</strong></h3>
<p><em>(Separate from the chat-based version.)</em><br />
<strong>Description:</strong><br />
Retrieves a displayed name for a client/character in a recognition context.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>chatType</code> (<code>string</code>) or other context param</p>
<p><strong>Returns:</strong>
- <code>string</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-171-1"><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetDisplayedName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RecognitionNameTag&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">)</span>
</span><span id="__span-171-2"><a id="__codelineno-171-2" name="__codelineno-171-2" href="#__codelineno-171-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">chatType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;recognition&quot;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isRecognized</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-171-3"><a id="__codelineno-171-3" name="__codelineno-171-3" href="#__codelineno-171-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;[Recognized] &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span>
</span><span id="__span-171-4"><a id="__codelineno-171-4" name="__codelineno-171-4" href="#__codelineno-171-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-171-5"><a id="__codelineno-171-5" name="__codelineno-171-5" href="#__codelineno-171-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="isrecognizedchattype"><strong>isRecognizedChatType</strong></h3>
<p><strong>Description:</strong><br />
Determines if a chat type is recognized by the recognition system.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>chatType</code> (string)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-172-1"><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;isRecognizedChatType&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ValidateRecognitionChat&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">chatType</span><span class="p">)</span>
</span><span id="__span-172-2"><a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">recognizedTypes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;system&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;recognition&quot;</span><span class="p">}</span>
</span><span id="__span-172-3"><a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">table</span><span class="p">.</span><span class="nf">HasValue</span><span class="p">(</span><span class="nv">recognizedTypes</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">)</span>
</span><span id="__span-172-4"><a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getsalarylimit"><strong>GetSalaryLimit</strong></h3>
<p><strong>Description:</strong><br />
Retrieves the salary limit for a player.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>faction</code> (table)
- <code>class</code> (table)</p>
<p><strong>Returns:</strong>
- <code>any</code>: The salary limit</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-173-1"><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetSalaryLimit&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetSalaryLimitsBasedOnRole&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">faction</span><span class="p">,</span><span class="w"> </span><span class="nv">class</span><span class="p">)</span>
</span><span id="__span-173-2"><a id="__codelineno-173-2" name="__codelineno-173-2" href="#__codelineno-173-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">faction</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Police&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-173-3"><a id="__codelineno-173-3" name="__codelineno-173-3" href="#__codelineno-173-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="c1">-- Police have a higher salary limit</span>
</span><span id="__span-173-4"><a id="__codelineno-173-4" name="__codelineno-173-4" href="#__codelineno-173-4"></a><span class="w">    </span><span class="kr">elseif</span><span class="w"> </span><span class="nv">faction</span><span class="p">.</span><span class="py">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Citizen&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-173-5"><a id="__codelineno-173-5" name="__codelineno-173-5" href="#__codelineno-173-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">2000</span>
</span><span id="__span-173-6"><a id="__codelineno-173-6" name="__codelineno-173-6" href="#__codelineno-173-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-173-7"><a id="__codelineno-173-7" name="__codelineno-173-7" href="#__codelineno-173-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getsalaryamount"><strong>GetSalaryAmount</strong></h3>
<p><strong>Description:</strong><br />
Retrieves the amount of salary a player should receive.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>faction</code> (table)
- <code>class</code> (table)</p>
<p><strong>Returns:</strong>
- <code>any</code>: The salary amount</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-174-1"><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetSalaryAmount&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CalculateDynamicSalary&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">faction</span><span class="p">,</span><span class="w"> </span><span class="nv">class</span><span class="p">)</span>
</span><span id="__span-174-2"><a id="__codelineno-174-2" name="__codelineno-174-2" href="#__codelineno-174-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">baseSalary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">faction</span><span class="p">.</span><span class="py">baseSalary</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">1000</span>
</span><span id="__span-174-3"><a id="__codelineno-174-3" name="__codelineno-174-3" href="#__codelineno-174-3"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">classBonus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">class</span><span class="p">.</span><span class="py">salaryBonus</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-174-4"><a id="__codelineno-174-4" name="__codelineno-174-4" href="#__codelineno-174-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="nv">baseSalary</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">classBonus</span>
</span><span id="__span-174-5"><a id="__codelineno-174-5" name="__codelineno-174-5" href="#__codelineno-174-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerearnsalary"><strong>CanPlayerEarnSalary</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player is allowed to earn salary.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>faction</code> (table)
- <code>class</code> (table)</p>
<p><strong>Returns:</strong>
- <code>bool</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-175-1"><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerEarnSalary&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictSalaryToActivePlayers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">faction</span><span class="p">,</span><span class="w"> </span><span class="nv">class</span><span class="p">)</span>
</span><span id="__span-175-2"><a id="__codelineno-175-2" name="__codelineno-175-2" href="#__codelineno-175-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isActive</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-175-3"><a id="__codelineno-175-3" name="__codelineno-175-3" href="#__codelineno-175-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Inactive players do not earn salary</span>
</span><span id="__span-175-4"><a id="__codelineno-175-4" name="__codelineno-175-4" href="#__codelineno-175-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-175-5"><a id="__codelineno-175-5" name="__codelineno-175-5" href="#__codelineno-175-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-175-6"><a id="__codelineno-175-6" name="__codelineno-175-6" href="#__codelineno-175-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="createsalarytimer"><strong>CreateSalaryTimer</strong></h3>
<p><strong>Description:</strong><br />
Creates a timer to manage player salary.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-176-1"><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CreateSalaryTimer&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetupSalaryTimer&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-176-2"><a id="__codelineno-176-2" name="__codelineno-176-2" href="#__codelineno-176-2"></a><span class="w">    </span><span class="nv">timer</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s2">&quot;SalaryTimer_&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">SteamID</span><span class="p">(),</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-176-3"><a id="__codelineno-176-3" name="__codelineno-176-3" href="#__codelineno-176-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nf">IsValid</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">MODULE</span><span class="p">:</span><span class="nf">CanPlayerEarnSalary</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getFaction</span><span class="p">(),</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getClass</span><span class="p">())</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-176-4"><a id="__codelineno-176-4" name="__codelineno-176-4" href="#__codelineno-176-4"></a><span class="w">            </span><span class="kd">local</span><span class="w"> </span><span class="nv">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MODULE</span><span class="p">:</span><span class="nf">GetSalaryAmount</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getFaction</span><span class="p">(),</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getClass</span><span class="p">())</span>
</span><span id="__span-176-5"><a id="__codelineno-176-5" name="__codelineno-176-5" href="#__codelineno-176-5"></a><span class="w">            </span><span class="nv">client</span><span class="p">:</span><span class="nf">addMoney</span><span class="p">(</span><span class="nv">salary</span><span class="p">)</span>
</span><span id="__span-176-6"><a id="__codelineno-176-6" name="__codelineno-176-6" href="#__codelineno-176-6"></a><span class="w">            </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You have received your salary of $&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">salary</span><span class="p">)</span>
</span><span id="__span-176-7"><a id="__codelineno-176-7" name="__codelineno-176-7" href="#__codelineno-176-7"></a><span class="w">            </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Salary of $&quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">salary</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; awarded to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-176-8"><a id="__codelineno-176-8" name="__codelineno-176-8" href="#__codelineno-176-8"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-176-9"><a id="__codelineno-176-9" name="__codelineno-176-9" href="#__codelineno-176-9"></a><span class="w">    </span><span class="kr">end</span><span class="p">)</span>
</span><span id="__span-176-10"><a id="__codelineno-176-10" name="__codelineno-176-10" href="#__codelineno-176-10"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Salary timer created for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-176-11"><a id="__codelineno-176-11" name="__codelineno-176-11" href="#__codelineno-176-11"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerusechar"><strong>CanPlayerUseChar</strong></h3>
<p><strong>Description:</strong><br />
Checks if a player is allowed to use a specific character.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)</p>
<p><strong>Returns:</strong>
- <code>bool</code>
- <code>string|nil</code> (Reason if disallowed)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-177-1"><a id="__codelineno-177-1" name="__codelineno-177-1" href="#__codelineno-177-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerUseChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictCharacterUsage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-177-2"><a id="__codelineno-177-2" name="__codelineno-177-2" href="#__codelineno-177-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">isBanned</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-177-3"><a id="__codelineno-177-3" name="__codelineno-177-3" href="#__codelineno-177-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;This character is banned from use.&quot;</span>
</span><span id="__span-177-4"><a id="__codelineno-177-4" name="__codelineno-177-4" href="#__codelineno-177-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-177-5"><a id="__codelineno-177-5" name="__codelineno-177-5" href="#__codelineno-177-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-177-6"><a id="__codelineno-177-6" name="__codelineno-177-6" href="#__codelineno-177-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayercreatechar"><strong>CanPlayerCreateChar</strong></h3>
<p><strong>Description:</strong><br />
Whether a player can create a new character.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>bool</code> (<code>false</code> to disallow)
- <code>string</code> (Lang phrase or reason)
- <code>...</code> (Args for the phrase)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-178-1"><a id="__codelineno-178-1" name="__codelineno-178-1" href="#__codelineno-178-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerCreateChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LimitCharacterCreation&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-178-2"><a id="__codelineno-178-2" name="__codelineno-178-2" href="#__codelineno-178-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">getCharacterCount</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nv">MODULE</span><span class="p">:</span><span class="nf">GetMaxPlayerChar</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-178-3"><a id="__codelineno-178-3" name="__codelineno-178-3" href="#__codelineno-178-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;You have reached the maximum number of characters.&quot;</span>
</span><span id="__span-178-4"><a id="__codelineno-178-4" name="__codelineno-178-4" href="#__codelineno-178-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-178-5"><a id="__codelineno-178-5" name="__codelineno-178-5" href="#__codelineno-178-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-178-6"><a id="__codelineno-178-6" name="__codelineno-178-6" href="#__codelineno-178-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postchardelete"><strong>PostCharDelete</strong></h3>
<p><strong>Description:</strong><br />
Called after a character is deleted.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-179-1"><a id="__codelineno-179-1" name="__codelineno-179-1" href="#__codelineno-179-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostCharDelete&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyCharacterDeletion&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-179-2"><a id="__codelineno-179-2" name="__codelineno-179-2" href="#__codelineno-179-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">broadcast</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has deleted their character: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-179-3"><a id="__codelineno-179-3" name="__codelineno-179-3" href="#__codelineno-179-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character deleted:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;by&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-179-4"><a id="__codelineno-179-4" name="__codelineno-179-4" href="#__codelineno-179-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getmaxplayerchar"><strong>GetMaxPlayerChar</strong></h3>
<p><strong>Description:</strong><br />
Retrieves the max number of characters a player can have.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)</p>
<p><strong>Returns:</strong>
- <code>int</code></p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-180-1"><a id="__codelineno-180-1" name="__codelineno-180-1" href="#__codelineno-180-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetMaxPlayerChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetMaxCharacters&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">)</span>
</span><span id="__span-180-2"><a id="__codelineno-180-2" name="__codelineno-180-2" href="#__codelineno-180-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isPremium</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-180-3"><a id="__codelineno-180-3" name="__codelineno-180-3" href="#__codelineno-180-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">-- Premium players can have up to 5 characters</span>
</span><span id="__span-180-4"><a id="__codelineno-180-4" name="__codelineno-180-4" href="#__codelineno-180-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-180-5"><a id="__codelineno-180-5" name="__codelineno-180-5" href="#__codelineno-180-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">-- Regular players can have up to 3 characters</span>
</span><span id="__span-180-6"><a id="__codelineno-180-6" name="__codelineno-180-6" href="#__codelineno-180-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-180-7"><a id="__codelineno-180-7" name="__codelineno-180-7" href="#__codelineno-180-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="chardeleted"><strong>CharDeleted</strong></h3>
<p><em>(Synonym to OnCharDelete or PostCharDelete in some code.)</em><br />
<strong>Description:</strong><br />
Called after a character is deleted.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-181-1"><a id="__codelineno-181-1" name="__codelineno-181-1" href="#__codelineno-181-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharDeleted&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;LogCharacterDeletion&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-181-2"><a id="__codelineno-181-2" name="__codelineno-181-2" href="#__codelineno-181-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;CharDeleted&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; deleted by &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-181-3"><a id="__codelineno-181-3" name="__codelineno-181-3" href="#__codelineno-181-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character deleted:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;by&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-181-4"><a id="__codelineno-181-4" name="__codelineno-181-4" href="#__codelineno-181-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="preplayerloadedchar"><strong>PrePlayerLoadedChar</strong></h3>
<p><strong>Description:</strong><br />
Called before a player's character is loaded.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)
- <code>currentChar</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-182-1"><a id="__codelineno-182-1" name="__codelineno-182-1" href="#__codelineno-182-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PrePlayerLoadedChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PrepareForCharacterLoad&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">currentChar</span><span class="p">)</span>
</span><span id="__span-182-2"><a id="__codelineno-182-2" name="__codelineno-182-2" href="#__codelineno-182-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">currentChar</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-182-3"><a id="__codelineno-182-3" name="__codelineno-182-3" href="#__codelineno-182-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">saveCurrentCharacter</span><span class="p">()</span>
</span><span id="__span-182-4"><a id="__codelineno-182-4" name="__codelineno-182-4" href="#__codelineno-182-4"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saved current character before loading new one for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-182-5"><a id="__codelineno-182-5" name="__codelineno-182-5" href="#__codelineno-182-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-182-6"><a id="__codelineno-182-6" name="__codelineno-182-6" href="#__codelineno-182-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playerloadedchar"><strong>PlayerLoadedChar</strong></h3>
<p><strong>Description:</strong><br />
Called when a player's character is loaded.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)
- <code>currentChar</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-183-1"><a id="__codelineno-183-1" name="__codelineno-183-1" href="#__codelineno-183-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerLoadedChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeNewCharacter&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">currentChar</span><span class="p">)</span>
</span><span id="__span-183-2"><a id="__codelineno-183-2" name="__codelineno-183-2" href="#__codelineno-183-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setHealth</span><span class="p">(</span><span class="nv">character</span><span class="p">:</span><span class="nf">getHealth</span><span class="p">())</span>
</span><span id="__span-183-3"><a id="__codelineno-183-3" name="__codelineno-183-3" href="#__codelineno-183-3"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">setArmor</span><span class="p">(</span><span class="nv">character</span><span class="p">:</span><span class="nf">getArmor</span><span class="p">())</span>
</span><span id="__span-183-4"><a id="__codelineno-183-4" name="__codelineno-183-4" href="#__codelineno-183-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded character:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">(),</span><span class="w"> </span><span class="s2">&quot;for player:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-183-5"><a id="__codelineno-183-5" name="__codelineno-183-5" href="#__codelineno-183-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="postplayerloadedchar"><strong>PostPlayerLoadedChar</strong></h3>
<p><strong>Description:</strong><br />
Called after a player's character is loaded.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>)
- <code>character</code> (Character)
- <code>currentChar</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-184-1"><a id="__codelineno-184-1" name="__codelineno-184-1" href="#__codelineno-184-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PostPlayerLoadedChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;WelcomeCharacter&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">currentChar</span><span class="p">)</span>
</span><span id="__span-184-2"><a id="__codelineno-184-2" name="__codelineno-184-2" href="#__codelineno-184-2"></a><span class="w">    </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;Welcome back, &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span>
</span><span id="__span-184-3"><a id="__codelineno-184-3" name="__codelineno-184-3" href="#__codelineno-184-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; loaded successfully.&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
</span><span id="__span-184-4"><a id="__codelineno-184-4" name="__codelineno-184-4" href="#__codelineno-184-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Post-load welcome sent to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">Name</span><span class="p">())</span>
</span><span id="__span-184-5"><a id="__codelineno-184-5" name="__codelineno-184-5" href="#__codelineno-184-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charloaded"><strong>CharLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called after a character has been successfully loaded (sometimes shared realm usage).</p>
<p><strong>Realm:</strong> 
<code>Shared</code> or <code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-185-1"><a id="__codelineno-185-1" name="__codelineno-185-1" href="#__codelineno-185-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeCharacterSkills&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-185-2"><a id="__codelineno-185-2" name="__codelineno-185-2" href="#__codelineno-185-2"></a><span class="w">    </span><span class="nv">character</span><span class="p">:</span><span class="nf">initSkills</span><span class="p">()</span>
</span><span id="__span-185-3"><a id="__codelineno-185-3" name="__codelineno-185-3" href="#__codelineno-185-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skills initialized for character:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-185-4"><a id="__codelineno-185-4" name="__codelineno-185-4" href="#__codelineno-185-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charpostsave"><strong>CharPostSave</strong></h3>
<p><strong>Description:</strong><br />
Called after a character is saved.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-186-1"><a id="__codelineno-186-1" name="__codelineno-186-1" href="#__codelineno-186-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharPostSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyCharacterSaved&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-186-2"><a id="__codelineno-186-2" name="__codelineno-186-2" href="#__codelineno-186-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">notifications</span><span class="p">.</span><span class="nf">sendAdmins</span><span class="p">(</span><span class="s2">&quot;Character &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has been saved.&quot;</span><span class="p">)</span>
</span><span id="__span-186-3"><a id="__codelineno-186-3" name="__codelineno-186-3" href="#__codelineno-186-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character saved:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-186-4"><a id="__codelineno-186-4" name="__codelineno-186-4" href="#__codelineno-186-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charpresave"><strong>CharPreSave</strong></h3>
<p><strong>Description:</strong><br />
Called before a character is saved.</p>
<p><strong>Realm:</strong> 
<code>Shared</code> (or <code>Server</code>, depending on the usage)</p>
<p><strong>Parameters:</strong>
- <code>character</code> (Character)</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-187-1"><a id="__codelineno-187-1" name="__codelineno-187-1" href="#__codelineno-187-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharPreSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ValidateCharacterBeforeSave&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-187-2"><a id="__codelineno-187-2" name="__codelineno-187-2" href="#__codelineno-187-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">isValid</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-187-3"><a id="__codelineno-187-3" name="__codelineno-187-3" href="#__codelineno-187-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Character is invalid and cannot be saved.&quot;</span>
</span><span id="__span-187-4"><a id="__codelineno-187-4" name="__codelineno-187-4" href="#__codelineno-187-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-187-5"><a id="__codelineno-187-5" name="__codelineno-187-5" href="#__codelineno-187-5"></a><span class="w">    </span><span class="c1">-- Perform additional validations or modifications</span>
</span><span id="__span-187-6"><a id="__codelineno-187-6" name="__codelineno-187-6" href="#__codelineno-187-6"></a><span class="w">    </span><span class="nv">character</span><span class="p">:</span><span class="nf">calculateDerivedStats</span><span class="p">()</span>
</span><span id="__span-187-7"><a id="__codelineno-187-7" name="__codelineno-187-7" href="#__codelineno-187-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character validated and modified before save:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-187-8"><a id="__codelineno-187-8" name="__codelineno-187-8" href="#__codelineno-187-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="f1onaddsection"><strong>F1OnAddSection</strong></h3>
<p><strong>Description:</strong><br />
Called when adding a new section to the F1 menu. Allows customization of sections within the help or character menu.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>sectionName</code> (<code>string</code>): The name identifier of the section.
- <code>color</code> (<code>Color</code>): The color associated with the section.
- <code>priority</code> (<code>number</code>): The priority/order of the section in the menu.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-188-1"><a id="__codelineno-188-1" name="__codelineno-188-1" href="#__codelineno-188-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;F1OnAddSection&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddSettingsSection&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">sectionName</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">,</span><span class="w"> </span><span class="nv">priority</span><span class="p">)</span>
</span><span id="__span-188-2"><a id="__codelineno-188-2" name="__codelineno-188-2" href="#__codelineno-188-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">sectionName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;settings&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-188-3"><a id="__codelineno-188-3" name="__codelineno-188-3" href="#__codelineno-188-3"></a><span class="w">        </span><span class="nv">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">)</span>
</span><span id="__span-188-4"><a id="__codelineno-188-4" name="__codelineno-188-4" href="#__codelineno-188-4"></a><span class="w">        </span><span class="nv">priority</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-188-5"><a id="__codelineno-188-5" name="__codelineno-188-5" href="#__codelineno-188-5"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Settings section customized.&quot;</span><span class="p">)</span>
</span><span id="__span-188-6"><a id="__codelineno-188-6" name="__codelineno-188-6" href="#__codelineno-188-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-188-7"><a id="__codelineno-188-7" name="__codelineno-188-7" href="#__codelineno-188-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="f1onaddtextfield"><strong>F1OnAddTextField</strong></h3>
<p><strong>Description:</strong><br />
Called when adding a text field to a section in the F1 menu. Allows adding customizable input fields to the menu.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>sectionName</code> (<code>string</code>): The name identifier of the section to add the text field to.
- <code>fieldName</code> (<code>string</code>): The unique identifier for the text field.
- <code>labelText</code> (<code>string</code>): The label displayed for the text field.
- <code>valueFunc</code> (<code>function</code>): A function that returns the current value of the text field.</p>
<p><strong>Returns:</strong>
- <code>nil</code> or custom behavior.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-189-1"><a id="__codelineno-189-1" name="__codelineno-189-1" href="#__codelineno-189-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;F1OnAddTextField&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddNicknameField&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">sectionName</span><span class="p">,</span><span class="w"> </span><span class="nv">fieldName</span><span class="p">,</span><span class="w"> </span><span class="nv">labelText</span><span class="p">,</span><span class="w"> </span><span class="nv">valueFunc</span><span class="p">)</span>
</span><span id="__span-189-2"><a id="__codelineno-189-2" name="__codelineno-189-2" href="#__codelineno-189-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">sectionName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;character&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-189-3"><a id="__codelineno-189-3" name="__codelineno-189-3" href="#__codelineno-189-3"></a><span class="w">        </span><span class="nv">fieldName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;nickname&quot;</span>
</span><span id="__span-189-4"><a id="__codelineno-189-4" name="__codelineno-189-4" href="#__codelineno-189-4"></a><span class="w">        </span><span class="nv">labelText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Nickname&quot;</span>
</span><span id="__span-189-5"><a id="__codelineno-189-5" name="__codelineno-189-5" href="#__codelineno-189-5"></a><span class="w">        </span><span class="nv">valueFunc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-189-6"><a id="__codelineno-189-6" name="__codelineno-189-6" href="#__codelineno-189-6"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">getNickname</span><span class="p">()</span>
</span><span id="__span-189-7"><a id="__codelineno-189-7" name="__codelineno-189-7" href="#__codelineno-189-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-189-8"><a id="__codelineno-189-8" name="__codelineno-189-8" href="#__codelineno-189-8"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nickname text field added to character section.&quot;</span><span class="p">)</span>
</span><span id="__span-189-9"><a id="__codelineno-189-9" name="__codelineno-189-9" href="#__codelineno-189-9"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-189-10"><a id="__codelineno-189-10" name="__codelineno-189-10" href="#__codelineno-189-10"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="f1onaddbarfield"><strong>F1OnAddBarField</strong></h3>
<p><strong>Description:</strong><br />
Called when adding a bar field (e.g., progress bar) to a section in the F1 menu. Allows adding customizable visual bars to represent data like health, stamina, etc.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>sectionName</code> (<code>string</code>): The name identifier of the section to add the bar field to.
- <code>fieldName</code> (<code>string</code>): The unique identifier for the bar field.
- <code>labelText</code> (<code>string</code>): The label displayed for the bar field.
- <code>minFunc</code> (<code>function</code>): A function that returns the minimum value of the bar.
- <code>maxFunc</code> (<code>function</code>): A function that returns the maximum value of the bar.
- <code>valueFunc</code> (<code>function</code>): A function that returns the current value of the bar.</p>
<p><strong>Returns:</strong>
- <code>nil</code> or custom behavior.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-190-1"><a id="__codelineno-190-1" name="__codelineno-190-1" href="#__codelineno-190-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;F1OnAddBarField&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AddHealthBar&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">sectionName</span><span class="p">,</span><span class="w"> </span><span class="nv">fieldName</span><span class="p">,</span><span class="w"> </span><span class="nv">labelText</span><span class="p">,</span><span class="w"> </span><span class="nv">minFunc</span><span class="p">,</span><span class="w"> </span><span class="nv">maxFunc</span><span class="p">,</span><span class="w"> </span><span class="nv">valueFunc</span><span class="p">)</span>
</span><span id="__span-190-2"><a id="__codelineno-190-2" name="__codelineno-190-2" href="#__codelineno-190-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">sectionName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;stats&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-190-3"><a id="__codelineno-190-3" name="__codelineno-190-3" href="#__codelineno-190-3"></a><span class="w">        </span><span class="nv">fieldName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;health&quot;</span>
</span><span id="__span-190-4"><a id="__codelineno-190-4" name="__codelineno-190-4" href="#__codelineno-190-4"></a><span class="w">        </span><span class="nv">labelText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Health&quot;</span>
</span><span id="__span-190-5"><a id="__codelineno-190-5" name="__codelineno-190-5" href="#__codelineno-190-5"></a><span class="w">        </span><span class="nv">minFunc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-190-6"><a id="__codelineno-190-6" name="__codelineno-190-6" href="#__codelineno-190-6"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-190-7"><a id="__codelineno-190-7" name="__codelineno-190-7" href="#__codelineno-190-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-190-8"><a id="__codelineno-190-8" name="__codelineno-190-8" href="#__codelineno-190-8"></a><span class="w">        </span><span class="nv">maxFunc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-190-9"><a id="__codelineno-190-9" name="__codelineno-190-9" href="#__codelineno-190-9"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-190-10"><a id="__codelineno-190-10" name="__codelineno-190-10" href="#__codelineno-190-10"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-190-11"><a id="__codelineno-190-11" name="__codelineno-190-11" href="#__codelineno-190-11"></a><span class="w">        </span><span class="nv">valueFunc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-190-12"><a id="__codelineno-190-12" name="__codelineno-190-12" href="#__codelineno-190-12"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">getChar</span><span class="p">():</span><span class="nf">getHealth</span><span class="p">()</span>
</span><span id="__span-190-13"><a id="__codelineno-190-13" name="__codelineno-190-13" href="#__codelineno-190-13"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-190-14"><a id="__codelineno-190-14" name="__codelineno-190-14" href="#__codelineno-190-14"></a><span class="w">        </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Health bar added to stats section.&quot;</span><span class="p">)</span>
</span><span id="__span-190-15"><a id="__codelineno-190-15" name="__codelineno-190-15" href="#__codelineno-190-15"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-190-16"><a id="__codelineno-190-16" name="__codelineno-190-16" href="#__codelineno-190-16"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerviewcommands"><strong>CanPlayerViewCommands</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player is allowed to view the list of available commands. Return <code>false</code> to hide the commands.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Returns:</strong>
- <code>bool</code>: <code>false</code> to block, <code>nil</code> or <code>true</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-191-1"><a id="__codelineno-191-1" name="__codelineno-191-1" href="#__codelineno-191-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerViewCommands&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;HideCommandsForRegularPlayers&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-191-2"><a id="__codelineno-191-2" name="__codelineno-191-2" href="#__codelineno-191-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">isAdmin</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-191-3"><a id="__codelineno-191-3" name="__codelineno-191-3" href="#__codelineno-191-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Hide commands for non-admin players</span>
</span><span id="__span-191-4"><a id="__codelineno-191-4" name="__codelineno-191-4" href="#__codelineno-191-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-191-5"><a id="__codelineno-191-5" name="__codelineno-191-5" href="#__codelineno-191-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="charlistloaded"><strong>CharListLoaded</strong></h3>
<p><strong>Description:</strong><br />
Called when the character list has been fully loaded for a player. Useful for performing actions after all characters are available.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>newCharList</code> (<code>table</code>): The updated list of characters for the player.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-192-1"><a id="__codelineno-192-1" name="__codelineno-192-1" href="#__codelineno-192-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CharListLoaded&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;InitializeCharacterUI&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">newCharList</span><span class="p">)</span>
</span><span id="__span-192-2"><a id="__codelineno-192-2" name="__codelineno-192-2" href="#__codelineno-192-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">ui</span><span class="p">.</span><span class="nf">initializeCharacterSelection</span><span class="p">(</span><span class="nv">newCharList</span><span class="p">)</span>
</span><span id="__span-192-3"><a id="__codelineno-192-3" name="__codelineno-192-3" href="#__codelineno-192-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character list loaded and UI initialized.&quot;</span><span class="p">)</span>
</span><span id="__span-192-4"><a id="__codelineno-192-4" name="__codelineno-192-4" href="#__codelineno-192-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerswitchchar"><strong>CanPlayerSwitchChar</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player can switch from their current character to another character. Return <code>false</code> to prevent the switch.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player attempting to switch characters.
- <code>currentChar</code> (<code>Character</code>): The player's current character.
- <code>character</code> (<code>Character</code>): The character the player is attempting to switch to.</p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: <code>false</code> to block, <code>nil</code> or <code>true</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-193-1"><a id="__codelineno-193-1" name="__codelineno-193-1" href="#__codelineno-193-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerSwitchChar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PreventSwitchDuringCombat&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">currentChar</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">)</span>
</span><span id="__span-193-2"><a id="__codelineno-193-2" name="__codelineno-193-2" href="#__codelineno-193-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">client</span><span class="p">:</span><span class="nf">isInCombat</span><span class="p">()</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-193-3"><a id="__codelineno-193-3" name="__codelineno-193-3" href="#__codelineno-193-3"></a><span class="w">        </span><span class="nv">client</span><span class="p">:</span><span class="nf">ChatPrint</span><span class="p">(</span><span class="s2">&quot;You cannot switch characters while in combat.&quot;</span><span class="p">)</span>
</span><span id="__span-193-4"><a id="__codelineno-193-4" name="__codelineno-193-4" href="#__codelineno-193-4"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span>
</span><span id="__span-193-5"><a id="__codelineno-193-5" name="__codelineno-193-5" href="#__codelineno-193-5"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-193-6"><a id="__codelineno-193-6" name="__codelineno-193-6" href="#__codelineno-193-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="oncharcreated"><strong>OnCharCreated</strong></h3>
<p><strong>Description:</strong><br />
Called after a new character has been successfully created. Allows for additional setup or initialization of the new character.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player who created the character.
- <code>character</code> (<code>Character</code>): The newly created character.
- <code>originalData</code> (<code>table</code>): The data provided during character creation.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-194-1"><a id="__codelineno-194-1" name="__codelineno-194-1" href="#__codelineno-194-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;OnCharCreated&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SetupInitialInventory&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">originalData</span><span class="p">)</span>
</span><span id="__span-194-2"><a id="__codelineno-194-2" name="__codelineno-194-2" href="#__codelineno-194-2"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getInventory</span><span class="p">()</span>
</span><span id="__span-194-3"><a id="__codelineno-194-3" name="__codelineno-194-3" href="#__codelineno-194-3"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="s2">&quot;starter_pack&quot;</span><span class="p">)</span>
</span><span id="__span-194-4"><a id="__codelineno-194-4" name="__codelineno-194-4" href="#__codelineno-194-4"></a><span class="w">    </span><span class="nv">inventory</span><span class="p">:</span><span class="nf">addItem</span><span class="p">(</span><span class="s2">&quot;basic_weapon&quot;</span><span class="p">)</span>
</span><span id="__span-194-5"><a id="__codelineno-194-5" name="__codelineno-194-5" href="#__codelineno-194-5"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial inventory setup for new character:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-194-6"><a id="__codelineno-194-6" name="__codelineno-194-6" href="#__codelineno-194-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="adjustcreationdata"><strong>AdjustCreationData</strong></h3>
<p><strong>Description:</strong><br />
Allows modifying or adding extra data steps in the character creation process on the server side. Can be used to inject custom data into character creation.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player creating the character.
- <code>data</code> (<code>table</code>): The original data being used for character creation.
- <code>newData</code> (<code>table</code>): The new data that can be modified.
- <code>originalData</code> (<code>table</code>): The unmodified original data.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-195-1"><a id="__codelineno-195-1" name="__codelineno-195-1" href="#__codelineno-195-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;AdjustCreationData&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;IncludeSkillPoints&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">,</span><span class="w"> </span><span class="nv">newData</span><span class="p">,</span><span class="w"> </span><span class="nv">originalData</span><span class="p">)</span>
</span><span id="__span-195-2"><a id="__codelineno-195-2" name="__codelineno-195-2" href="#__codelineno-195-2"></a><span class="w">    </span><span class="nv">newData</span><span class="p">.</span><span class="py">skillPoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-195-3"><a id="__codelineno-195-3" name="__codelineno-195-3" href="#__codelineno-195-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skill points added to character creation data.&quot;</span><span class="p">)</span>
</span><span id="__span-195-4"><a id="__codelineno-195-4" name="__codelineno-195-4" href="#__codelineno-195-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="drawcharinfo"><strong>DrawCharInfo</strong></h3>
<p><strong>Description:</strong><br />
Called to draw information about a character, such as stats or status effects, within the UI.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>entity</code> (<code>Entity</code>): The entity associated with the character.
- <code>character</code> (<code>Character</code>): The character whose info is being drawn.
- <code>charInfo</code> (<code>table</code>): A table containing character information to be displayed.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-196-1"><a id="__codelineno-196-1" name="__codelineno-196-1" href="#__codelineno-196-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;DrawCharInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DisplayCharacterStats&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">entity</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">charInfo</span><span class="p">)</span>
</span><span id="__span-196-2"><a id="__codelineno-196-2" name="__codelineno-196-2" href="#__codelineno-196-2"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Strength: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getAttribute</span><span class="p">(</span><span class="s2">&quot;strength&quot;</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
</span><span id="__span-196-3"><a id="__codelineno-196-3" name="__codelineno-196-3" href="#__codelineno-196-3"></a><span class="w">    </span><span class="nv">draw</span><span class="p">.</span><span class="nf">SimpleText</span><span class="p">(</span><span class="s2">&quot;Agility: &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getAttribute</span><span class="p">(</span><span class="s2">&quot;agility&quot;</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
</span><span id="__span-196-4"><a id="__codelineno-196-4" name="__codelineno-196-4" href="#__codelineno-196-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Character stats drawn for:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">character</span><span class="p">:</span><span class="nf">getName</span><span class="p">())</span>
</span><span id="__span-196-5"><a id="__codelineno-196-5" name="__codelineno-196-5" href="#__codelineno-196-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getinjuredtext"><strong>GetInjuredText</strong></h3>
<p><strong>Description:</strong><br />
Called to retrieve the text displayed when a player is injured. Allows customization of injury messages.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player who is injured.
- <code>isSevere</code> (<code>bool</code>): Whether the injury is severe.</p>
<p><strong>Returns:</strong>
- <code>string</code>: The injury message to display.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-197-1"><a id="__codelineno-197-1" name="__codelineno-197-1" href="#__codelineno-197-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetInjuredText&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomInjuryMessage&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">isSevere</span><span class="p">)</span>
</span><span id="__span-197-2"><a id="__codelineno-197-2" name="__codelineno-197-2" href="#__codelineno-197-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">isSevere</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-197-3"><a id="__codelineno-197-3" name="__codelineno-197-3" href="#__codelineno-197-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;You are critically injured! Seek medical attention immediately.&quot;</span>
</span><span id="__span-197-4"><a id="__codelineno-197-4" name="__codelineno-197-4" href="#__codelineno-197-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-197-5"><a id="__codelineno-197-5" name="__codelineno-197-5" href="#__codelineno-197-5"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;You are hurt but can continue.&quot;</span>
</span><span id="__span-197-6"><a id="__codelineno-197-6" name="__codelineno-197-6" href="#__codelineno-197-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-197-7"><a id="__codelineno-197-7" name="__codelineno-197-7" href="#__codelineno-197-7"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getweaponname"><strong>GetWeaponName</strong></h3>
<p><strong>Description:</strong><br />
Called to retrieve the display name for a weapon. Allows customization of weapon names in the UI.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>weapon</code> (<code>Entity</code> or <code>table</code>): The weapon entity or table for which the name is being retrieved.</p>
<p><strong>Returns:</strong>
- <code>string|nil</code>: A custom weapon name, or <code>nil</code> to use the default.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-198-1"><a id="__codelineno-198-1" name="__codelineno-198-1" href="#__codelineno-198-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;GetWeaponName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RenameAK47&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span>
</span><span id="__span-198-2"><a id="__codelineno-198-2" name="__codelineno-198-2" href="#__codelineno-198-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">weapon</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;weapon_ak47&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-198-3"><a id="__codelineno-198-3" name="__codelineno-198-3" href="#__codelineno-198-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;Assault Rifle AK-47&quot;</span>
</span><span id="__span-198-4"><a id="__codelineno-198-4" name="__codelineno-198-4" href="#__codelineno-198-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-198-5"><a id="__codelineno-198-5" name="__codelineno-198-5" href="#__codelineno-198-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="weaponcyclesound"><strong>WeaponCycleSound</strong></h3>
<p><strong>Description:</strong><br />
Called when a player cycles through their weapons, allowing custom sounds to be played.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- None directly, but could include context in some implementations.</p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: Can be used to prevent default sound if handled.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-199-1"><a id="__codelineno-199-1" name="__codelineno-199-1" href="#__codelineno-199-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;WeaponCycleSound&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;PlayCustomCycleSound&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-199-2"><a id="__codelineno-199-2" name="__codelineno-199-2" href="#__codelineno-199-2"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom weapon cycle sound played.&quot;</span><span class="p">)</span>
</span><span id="__span-199-3"><a id="__codelineno-199-3" name="__codelineno-199-3" href="#__codelineno-199-3"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="s2">&quot;custom/sounds/weapon_cycle.wav&quot;</span>
</span><span id="__span-199-4"><a id="__codelineno-199-4" name="__codelineno-199-4" href="#__codelineno-199-4"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerchooseweapon"><strong>CanPlayerChooseWeapon</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player is allowed to choose a specific weapon. Return <code>false</code> to block weapon selection.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>weapon</code> (<code>Entity</code> or <code>table</code>): The weapon being selected.</p>
<p><strong>Returns:</strong>
- <code>bool</code>: <code>false</code> to block, <code>nil</code> or <code>true</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-200-1"><a id="__codelineno-200-1" name="__codelineno-200-1" href="#__codelineno-200-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerChooseWeapon&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;RestrictWeaponChoiceForNovices&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
</span><span id="__span-200-2"><a id="__codelineno-200-2" name="__codelineno-200-2" href="#__codelineno-200-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nf">LocalPlayer</span><span class="p">():</span><span class="nf">getLevel</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-200-3"><a id="__codelineno-200-3" name="__codelineno-200-3" href="#__codelineno-200-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Prevent weapon choice for players below level 5</span>
</span><span id="__span-200-4"><a id="__codelineno-200-4" name="__codelineno-200-4" href="#__codelineno-200-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-200-5"><a id="__codelineno-200-5" name="__codelineno-200-5" href="#__codelineno-200-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="weaponselectsound"><strong>WeaponSelectSound</strong></h3>
<p><strong>Description:</strong><br />
Called when a weapon is selected, allowing custom sounds to be played.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>weapon</code> (<code>Entity</code> or <code>table</code>): The weapon being selected.</p>
<p><strong>Returns:</strong>
- <code>bool|nil</code>: <code>false</code> to block default sound, or <code>nil</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-201-1"><a id="__codelineno-201-1" name="__codelineno-201-1" href="#__codelineno-201-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;WeaponSelectSound&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;CustomSelectSound&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">weapon</span><span class="p">)</span>
</span><span id="__span-201-2"><a id="__codelineno-201-2" name="__codelineno-201-2" href="#__codelineno-201-2"></a><span class="w">    </span><span class="nv">surface</span><span class="p">.</span><span class="nf">PlaySound</span><span class="p">(</span><span class="s2">&quot;custom/sounds/weapon_select.wav&quot;</span><span class="p">)</span>
</span><span id="__span-201-3"><a id="__codelineno-201-3" name="__codelineno-201-3" href="#__codelineno-201-3"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom weapon select sound played.&quot;</span><span class="p">)</span>
</span><span id="__span-201-4"><a id="__codelineno-201-4" name="__codelineno-201-4" href="#__codelineno-201-4"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">-- Prevent default sound</span>
</span><span id="__span-201-5"><a id="__codelineno-201-5" name="__codelineno-201-5" href="#__codelineno-201-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="canplayerusedoor"><strong>CanPlayerUseDoor</strong></h3>
<p><strong>Description:</strong><br />
Determines if a player is allowed to use a door entity, such as opening, locking, or unlocking. Return <code>false</code> to prevent the action.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>client</code> (<code>Player</code>): The player attempting to use the door.
- <code>door</code> (<code>Entity</code>): The door entity being used.
- <code>access</code> (<code>int</code>): The type of access attempted (e.g., <code>DOOR_LOCK</code>).</p>
<p><strong>Returns:</strong>
- <code>bool</code>: <code>false</code> to block, <code>nil</code> or <code>true</code> to allow.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-202-1"><a id="__codelineno-202-1" name="__codelineno-202-1" href="#__codelineno-202-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;CanPlayerUseDoor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AllowOnlyOwners&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">client</span><span class="p">,</span><span class="w"> </span><span class="nv">door</span><span class="p">,</span><span class="w"> </span><span class="nv">access</span><span class="p">)</span>
</span><span id="__span-202-2"><a id="__codelineno-202-2" name="__codelineno-202-2" href="#__codelineno-202-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">access</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">DOOR_LOCK</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">door</span><span class="p">:</span><span class="nf">getOwner</span><span class="p">()</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-202-3"><a id="__codelineno-202-3" name="__codelineno-202-3" href="#__codelineno-202-3"></a><span class="w">        </span><span class="kr">return</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">-- Only the owner can lock the door</span>
</span><span id="__span-202-4"><a id="__codelineno-202-4" name="__codelineno-202-4" href="#__codelineno-202-4"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-202-5"><a id="__codelineno-202-5" name="__codelineno-202-5" href="#__codelineno-202-5"></a><span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-202-6"><a id="__codelineno-202-6" name="__codelineno-202-6" href="#__codelineno-202-6"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="playeraccessvendor"><strong>PlayerAccessVendor</strong></h3>
<p><strong>Description:</strong><br />
Called when a player accesses a vendor. Useful for tracking access or applying additional logic upon access.</p>
<p><strong>Realm:</strong> 
<code>Server</code></p>
<p><strong>Parameters:</strong>
- <code>activator</code> (<code>Player</code>): The player accessing the vendor.
- <code>self</code> (<code>Entity</code>): The vendor entity being accessed.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-203-1"><a id="__codelineno-203-1" name="__codelineno-203-1" href="#__codelineno-203-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;PlayerAccessVendor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;TrackVendorAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">activator</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">)</span>
</span><span id="__span-203-2"><a id="__codelineno-203-2" name="__codelineno-203-2" href="#__codelineno-203-2"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">log</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">&quot;VendorAccess&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">activator</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; accessed vendor &quot;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-203-3"><a id="__codelineno-203-3" name="__codelineno-203-3" href="#__codelineno-203-3"></a><span class="w">    </span><span class="nv">lia</span><span class="p">.</span><span class="py">stats</span><span class="p">.</span><span class="nf">increment</span><span class="p">(</span><span class="nv">activator</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;vendor_accesses&quot;</span><span class="p">)</span>
</span><span id="__span-203-4"><a id="__codelineno-203-4" name="__codelineno-203-4" href="#__codelineno-203-4"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="nv">activator</span><span class="p">:</span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s2">&quot; has accessed vendor:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">vendor</span><span class="p">:</span><span class="nf">GetClass</span><span class="p">())</span>
</span><span id="__span-203-5"><a id="__codelineno-203-5" name="__codelineno-203-5" href="#__codelineno-203-5"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="getpriceoverride"><strong>getPriceOverride</strong></h3>
<p><strong>Description:</strong><br />
Gets the price override for an item in a vendor's inventory. Allows dynamic pricing based on item, vendor, or other conditions.</p>
<p><strong>Realm:</strong> 
<code>Shared</code></p>
<p><strong>Parameters:</strong>
- <code>vendor</code> (<code>Entity</code>): The vendor entity.
- <code>uniqueID</code> (<code>string</code>): The unique identifier of the item.
- <code>price</code> (<code>int</code>): The base price of the item.
- <code>isSellingToVendor</code> (<code>bool</code>): <code>true</code> if the player is selling to the vendor, <code>false</code> if buying from the vendor.</p>
<p><strong>Returns:</strong>
- <code>int|nil</code>: The overridden price, or <code>nil</code> to use the default.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-204-1"><a id="__codelineno-204-1" name="__codelineno-204-1" href="#__codelineno-204-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;getPriceOverride&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;DynamicPricing&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">vendor</span><span class="p">,</span><span class="w"> </span><span class="nv">uniqueID</span><span class="p">,</span><span class="w"> </span><span class="nv">price</span><span class="p">,</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="p">)</span>
</span><span id="__span-204-2"><a id="__codelineno-204-2" name="__codelineno-204-2" href="#__codelineno-204-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">uniqueID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;rare_item&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-204-3"><a id="__codelineno-204-3" name="__codelineno-204-3" href="#__codelineno-204-3"></a><span class="w">        </span><span class="kr">if</span><span class="w"> </span><span class="nv">isSellingToVendor</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-204-4"><a id="__codelineno-204-4" name="__codelineno-204-4" href="#__codelineno-204-4"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="nv">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.75</span><span class="w"> </span><span class="c1">-- Vendor buys at 75% of base price</span>
</span><span id="__span-204-5"><a id="__codelineno-204-5" name="__codelineno-204-5" href="#__codelineno-204-5"></a><span class="w">        </span><span class="kr">else</span>
</span><span id="__span-204-6"><a id="__codelineno-204-6" name="__codelineno-204-6" href="#__codelineno-204-6"></a><span class="w">            </span><span class="kr">return</span><span class="w"> </span><span class="nv">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.25</span><span class="w"> </span><span class="c1">-- Vendor sells at 125% of base price</span>
</span><span id="__span-204-7"><a id="__codelineno-204-7" name="__codelineno-204-7" href="#__codelineno-204-7"></a><span class="w">        </span><span class="kr">end</span>
</span><span id="__span-204-8"><a id="__codelineno-204-8" name="__codelineno-204-8" href="#__codelineno-204-8"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-204-9"><a id="__codelineno-204-9" name="__codelineno-204-9" href="#__codelineno-204-9"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="thirdpersontoggled"><strong>thirdPersonToggled</strong></h3>
<p><strong>Description:</strong><br />
Called when third-person mode is toggled on or off. Allows for custom handling of third-person mode changes.</p>
<p><strong>Realm:</strong> 
<code>Client</code></p>
<p><strong>Parameters:</strong>
- <code>state</code> (<code>bool</code>): <code>true</code> if third-person is enabled, <code>false</code> if disabled.</p>
<p><strong>Example:</strong>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-205-1"><a id="__codelineno-205-1" name="__codelineno-205-1" href="#__codelineno-205-1"></a><span class="nv">hook</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s2">&quot;thirdPersonToggled&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NotifyThirdPersonChange&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">state</span><span class="p">)</span>
</span><span id="__span-205-2"><a id="__codelineno-205-2" name="__codelineno-205-2" href="#__codelineno-205-2"></a><span class="w">    </span><span class="kr">if</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-205-3"><a id="__codelineno-205-3" name="__codelineno-205-3" href="#__codelineno-205-3"></a><span class="w">        </span><span class="nv">chat</span><span class="p">.</span><span class="nf">AddText</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Third-person view enabled.&quot;</span><span class="p">)</span>
</span><span id="__span-205-4"><a id="__codelineno-205-4" name="__codelineno-205-4" href="#__codelineno-205-4"></a><span class="w">    </span><span class="kr">else</span>
</span><span id="__span-205-5"><a id="__codelineno-205-5" name="__codelineno-205-5" href="#__codelineno-205-5"></a><span class="w">        </span><span class="nv">chat</span><span class="p">.</span><span class="nf">AddText</span><span class="p">(</span><span class="nf">Color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Third-person view disabled.&quot;</span><span class="p">)</span>
</span><span id="__span-205-6"><a id="__codelineno-205-6" name="__codelineno-205-6" href="#__codelineno-205-6"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-205-7"><a id="__codelineno-205-7" name="__codelineno-205-7" href="#__codelineno-205-7"></a><span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Third-person mode toggled to:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">state</span><span class="p">)</span>
</span><span id="__span-205-8"><a id="__codelineno-205-8" name="__codelineno-205-8" href="#__codelineno-205-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div></p>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../definitions/items/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Items">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Items
              </div>
            </div>
          </a>
        
        
          
          <a href="../faction_hooks/" class="md-footer__link md-footer__link--next" aria-label="Next: Faction Hooks">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Faction Hooks
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/LiliaFramework/Lilia" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.footer"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>